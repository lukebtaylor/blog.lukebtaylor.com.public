[{"name":"Linux - Show open ports","description":"List ports that are being listened toss -lntu ","body":"List ports that are being listened toss -lntu ","url":"https://blog.lukebtaylor.com/posts/linux-show-open-ports/"},{"name":"Linux - Hex dump","description":"Dump file to hexxxd &amp;lt;myfile.txt&amp;gt; https://linux.die.net/man/1/xxd","body":"Dump file to hexxxd &amp;lt;myfile.txt&amp;gt; https://linux.die.net/man/1/xxd","url":"https://blog.lukebtaylor.com/posts/linux-hex-dump/"},{"name":"PowerShell - Exit Code","description":"PowerShell - Exit Code $arg1Data = &amp;#34;someArgText&amp;#34;; $Proc = Start-Process -FilePath &amp;#34;some.exe&amp;#34; -ArgumentList @(&amp;#34;-arg1:$arg1Data&amp;#34;,&amp;#39;-someOtherSwitch&amp;#39;,&amp;#39;-anotherArg:someOtherText&amp;#39;,&amp;#34;someStaticTextThatIsAnArg&amp;#34;) -PassThru -Wait -NoNewWindow; if($Proc.ExitCode -ne 0) { Throw &amp;#34;Failed to execute with exitcode: $($Proc.ExitCode)&amp;#34;; } With Splatting $exe = &amp;#34;some.exe&amp;#34;; $arg1Data = &amp;#34;someOtherArgContent&amp;#34;; $cmdArgs = @( &amp;#34;-arg1:$arg1Data&amp;#34; ,&amp;#39;-someOtherSwitch&amp;#39; ,&amp;#39;-anotherArg:someOtherText&amp;#39; ,&amp;#34;someStaticTextThatIsAnArg&amp;#34; ); $parms = @{ &amp;#34;FilePath&amp;#34;=$exe; &amp;#34;ArgumentList&amp;#34;=$cmdArgs; &amp;#34;PassThru&amp;#34;=$true; &amp;#34;Wait&amp;#34;=$true; &amp;#34;NoNewWindow&amp;#34;=$true; } $Proc = Start-Process @parms; if($Proc.ExitCode -ne 0) { Throw &amp;#34;Failed to execute with exitcode: $($Proc.ExitCode)&amp;#34;; } https://docs.","body":"PowerShell - Exit Code $arg1Data = &amp;#34;someArgText&amp;#34;; $Proc = Start-Process -FilePath &amp;#34;some.exe&amp;#34; -ArgumentList @(&amp;#34;-arg1:$arg1Data&amp;#34;,&amp;#39;-someOtherSwitch&amp;#39;,&amp;#39;-anotherArg:someOtherText&amp;#39;,&amp;#34;someStaticTextThatIsAnArg&amp;#34;) -PassThru -Wait -NoNewWindow; if($Proc.ExitCode -ne 0) { Throw &amp;#34;Failed to execute with exitcode: $($Proc.ExitCode)&amp;#34;; } With Splatting $exe = &amp;#34;some.exe&amp;#34;; $arg1Data = &amp;#34;someOtherArgContent&amp;#34;; $cmdArgs = @( &amp;#34;-arg1:$arg1Data&amp;#34; ,&amp;#39;-someOtherSwitch&amp;#39; ,&amp;#39;-anotherArg:someOtherText&amp;#39; ,&amp;#34;someStaticTextThatIsAnArg&amp;#34; ); $parms = @{ &amp;#34;FilePath&amp;#34;=$exe; &amp;#34;ArgumentList&amp;#34;=$cmdArgs; &amp;#34;PassThru&amp;#34;=$true; &amp;#34;Wait&amp;#34;=$true; &amp;#34;NoNewWindow&amp;#34;=$true; } $Proc = Start-Process @parms; if($Proc.ExitCode -ne 0) { Throw &amp;#34;Failed to execute with exitcode: $($Proc.ExitCode)&amp;#34;; } https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.management/start-process?view=powershell-7.1https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_arrays?view=powershell-7.1https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_splatting?view=powershell-7.1https://devblogs.microsoft.com/scripting/use-splatting-to-simplify-your-powershell-scripts/https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_remote_variables?view=powershell-7#using-splatting","url":"https://blog.lukebtaylor.com/posts/powershell-exit-code/"},{"name":"Linux - Clear Bash History","description":"Bash history is stored in ~/.bash_history. When you log out of the current shell, the shell&amp;rsquo;s history is written to the hidden file.To empty out history, first clear the history from the current session# history --help # -c clear the history list by deleting all of the entries history -c Then write the current history to the file# -w write the current history to the history file history -w Now if you look at the contents of ~/.","body":"Bash history is stored in ~/.bash_history. When you log out of the current shell, the shell&amp;rsquo;s history is written to the hidden file.To empty out history, first clear the history from the current session# history --help # -c clear the history list by deleting all of the entries history -c Then write the current history to the file# -w write the current history to the history file history -w Now if you look at the contents of ~/.bash_history, it will be empty, and no commands are available by pushing the up arrow.cat ~/.bash_history Combine it all togetherhistory -c &amp;amp;&amp;amp; history -w ","url":"https://blog.lukebtaylor.com/posts/linux-clear-bash-history/"},{"name":"Ubiquiti - Configuring an EdgeRouter X to Replace a CenturyLink Router - Zyxel C3000Z","description":"Bypassing another bad CenturyLink router. This time, I have the Zyxel C3000Z which I need in order to get the bonded pair for the fastest DSL I can get in my area. Maybe I&amp;rsquo;m old fashioned, but 80MB is plenty for our household&amp;rsquo;s needs.We won&amp;rsquo;t actually be able to get rid of this device completely, but we can disable all of it&amp;rsquo;s functionality and allow it to pass through data to the EdgeRouter.","body":"Bypassing another bad CenturyLink router. This time, I have the Zyxel C3000Z which I need in order to get the bonded pair for the fastest DSL I can get in my area. Maybe I&amp;rsquo;m old fashioned, but 80MB is plenty for our household&amp;rsquo;s needs.We won&amp;rsquo;t actually be able to get rid of this device completely, but we can disable all of it&amp;rsquo;s functionality and allow it to pass through data to the EdgeRouter. By setting the C3000Z to &amp;ldquo;Transparent Bridging&amp;rdquo; mode, it acts like a modem and nothing more.The Issue The C3000Z performed well enough as a router, although I did not use the wifi, ever. But then when I started playing with a VPN into the house and doing some port-forwarding, I lost hours thinking it was me. Googling &amp;ldquo;C3000Z port forwarding doesn&amp;rsquo;t work&amp;rdquo; will yield numerous anecdotes about issues people have with the port-forwarding on the device. So, it&amp;rsquo;s time to let it be a modem, and nothing more.Port Forwarding Issues When researching the issue, I ran across a couple of articles from Zyxel concerning NAT and UPnP issues that could have an effect on port-forwarding. https://mysupport.zyxel.com/hc/en-us/articles/360003420960--CPE-CenturyLink-NAT-UPnP-Troubleshooting-Guide   I followed the steps, but they didn&amp;rsquo;t resolve any issues for me.Port Scanners When I would make a change, I had a port on the network computer listening, but using an external port scanner, ports would either timeout or be actively blocked. What&amp;rsquo;s My IP Port Scanner T1 Shopper Port Scanner  What did resolve the issue was bypassing the routing functionality of the C3000Z altogether.Pre-Work Steps  Backup your C3000Z configuration Backup your EdgeRouter configuration Contact CenturyLink and ask for your PPP username and password  I used the CenturyLink Chat and they gave me my info without much trouble. It only took a few minutes and I had to answer some identity verification questions. Here is what I wrote:  Would you please provide the PPP password and username for my account? I am in the process of bridging the router to use a different router I own.      C3000Z - Enable the bridging  Browse to 192.168.0.1 Log into the C3000Z Go to Advanced Select the &amp;ldquo;WAN Settings&amp;rdquo; section Select the &amp;ldquo;ISP Protocol&amp;rdquo; dropdown Select &amp;ldquo;Transparent Bridging&amp;rdquo; Select the &amp;ldquo;Transport Mode&amp;rdquo; dropdown Select &amp;ldquo;Tagged&amp;ndash;201&amp;rdquo; Click &amp;ldquo;Apply&amp;rdquo; The C3000Z wil refresh and you will no longer be able to access the web interface  See the section in this article titled, &amp;ldquo;Can&amp;rsquo;t access the CenturyLink Zyxel C3000Z modem after it has been put into &amp;ldquo;Transparent Bridging&amp;rdquo; mode.&amp;rdquo; if you need to disable &amp;ldquo;Transparent Bridging&amp;rdquo;    EdgeRouter - Set up PPPoE What I did I didn&amp;rsquo;t need to save my settings, because the EdgeRouter didn&amp;rsquo;t have much custom configuration on it. Doing this WILL DELETE all of your settings. Ran through the basic setup wizard Set the internet connection type to PPPoE Enter the PPPoE username and password you got from CL Leave &amp;ldquo;Internet connection is on VLAN&amp;rdquo; unchecked  VLAN tagging is unnecessary because of the step we took when enabling &amp;ldquo;Transparent Bridging&amp;rdquo; in the C3000Z   Keep existing users Apply Reboot  What you could do, alternatively  Open EdgeMax GUI On the &amp;ldquo;Dashboard&amp;rdquo; screen Click &amp;ldquo;Add Interface&amp;rdquo; Click &amp;ldquo;Add PPPoE&amp;rdquo; Fill in the &amp;ldquo;Create New PPPoE&amp;rdquo; dialog Set PPPoE ID to 0 Set interface to the interface you have connected to the C3000Z Set Account Name to the PPP username you got from CL Set Password to the PPP password you got from CL Set MTU to 1492 Slick &amp;ldquo;Save&amp;rdquo; Reboot  Set up a port forward  Go to the EdgeRouter GUI Click on &amp;ldquo;Firewall/NAT&amp;rdquo; Click on &amp;ldquo;Port Forwarding&amp;rdquo; tab Choose the WAN interface of &amp;ldquo;pppoe0&amp;rdquo; Enable Hairpin NAT Choose the LAN interface  In my case I chose &amp;ldquo;switch0&amp;rdquo; because I bridged my connections It could be one of the eth interfaces, whatever you have facing into your network   Set up your port-forward rule however you will Click &amp;ldquo;Apply&amp;rdquo;  Set up Dynamic DNS (DDNS) If you want to use a DDNS service so that you can always get to your network when the external IP changes, do the following. This uses DuckDNS as an example. Go to https://www.duckdns.org/ and set up an account Create a custom DNS setting Grab your key Go to the EdgeRouter GUI Click on &amp;ldquo;Services&amp;rdquo; Click on &amp;ldquo;DNS&amp;rdquo; Under the &amp;ldquo;Dynamic DNS&amp;rdquo; section choose the WAN interface, in my case &amp;ldquo;pppoe0&amp;rdquo; Leave &amp;ldquo;Web&amp;rdquo; and &amp;ldquo;Web-skip&amp;rdquo; empty Click &amp;ldquo;Add Service&amp;rdquo; Click &amp;ldquo;custom -&amp;rdquo; from the Service dropdown Enter &amp;ldquo;DuckDNS&amp;rdquo; in the text box next to the dropdown Hostname will be the custom hostname you created in DuckDNS Login is &amp;ldquo;nouser&amp;rdquo; without the quotes Password is the DuckDNS key for your account Server is &amp;ldquo;www.duckdns.org&amp;rdquo; without the quotes Click &amp;ldquo;Apply&amp;rdquo; Browse to https://www.whatismyip.org/ Refresh the DuckDNS page Your external IP should match the DuckDNS results  Notes on Can&amp;rsquo;t access the CenturyLink Zyxel C3000Z modem after it has been put into &amp;ldquo;Transparent Bridging&amp;rdquo; mode.  Disconnect all data cables from the unit Connect a cable from your computer to one of the LAN ports On your computer, manually configure the network connection using the following settings  This assumes the default DHCP server of 192.168.0.1 Manually set the IP configuration of the computer to  IP Address  192.168.0.4   Subnet Mask  255.255.255.0   Default Gateway  192.168.0.1       Browse to 192.168.0.1 The Admin screen should show up  REFERENCES  https://www.akadia.com/services/zyxel_transparent_mode.html  https://web.archive.org/web/20200531025530/https://www.akadia.com/services/zyxel_transparent_mode.html   https://gist.github.com/dotspencer/1c4756463df727b9e43b86ba136a9fe4 https://community.ui.com/questions/Edgerouter-lite-function-as-pppoe-client/b35e2272-ebf9-44b5-a954-727d7b031dd4 https://community.ui.com/questions/EdgeRouter-PPPoE-configuration-help/58923ea7-b8f3-4d3c-8eca-4ac2abc39fbc https://www.youtube.com/watch?v=xtwQewrXZ5M https://www.reddit.com/r/HomeNetworking/comments/63hzkq/zyxel_c1100z_through_centurylink_and_transparent/ http://vtechify.com/DuckDNS-on-EdgeRouter/  https://web.archive.org/web/20200531025756/http://vtechify.com/DuckDNS-on-EdgeRouter/   https://www.youtube.com/watch?v=f3c7s_r_6IA https://help.ui.com/hc/en-us/articles/217367937-EdgeRouter-Port-Forwarding https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_71/rzajb/rzajbrzajb4bhidenat.htm  ","url":"https://blog.lukebtaylor.com/posts/ubiquiti-configuring-an-edgerouter-x-to-replace-a-centurylink-router-c3000z/"},{"name":"Keepass   Syncing the Database","description":"Storing the Keepass database in your NextCloud, Google Drive, OneDrive, or other storage is convenient if ou need to have access to the database from multiple machines both in and out of your home network.There is a problem with this setup though.Both NextCloud sync and Keepass will be trying to sync different verions of the database at some point.Let&amp;rsquo;s say you have two computers, both pointing to the Keepass database stored on a synced cloud storage provider.","body":"Storing the Keepass database in your NextCloud, Google Drive, OneDrive, or other storage is convenient if ou need to have access to the database from multiple machines both in and out of your home network.There is a problem with this setup though.Both NextCloud sync and Keepass will be trying to sync different verions of the database at some point.Let&amp;rsquo;s say you have two computers, both pointing to the Keepass database stored on a synced cloud storage provider. Dropbox will synchronize files between computers, but it can&amp;rsquo;t determine what changes KeePass has made, only that the database has changed. To ensure that KeePass changes are not lost by Dropbox, you need to use a second copy of the database that is just for the Dropbox synchronization. Then use a KeePass trigger to move changes between KeePass and Dropbox. https://keepass.info/help/kb/trigger_examples.html#dbsync Create a new directory to use for the Dropbox synchronization, e.g. C:\\Documents and Settings\\Tom\\My Documents\\DropboxSync Note: Do not use the current database location, you must have 2 copies of the database. Copy (do not move) the KeePass database you want to sync to the new directory. Open KeePass and navigate to &amp;lsquo;Tools&amp;rsquo; → &amp;lsquo;Triggers&amp;hellip;&#39;. Add a trigger. Call it something meaningful, like &amp;ldquo;Prevent data loss by Dropbox&amp;rdquo;. Navigate to the &amp;lsquo;Events&amp;rsquo; tab and add an event. Select &amp;lsquo;Saved database file&amp;rsquo;. If you only want to sync a certain database, set the &amp;lsquo;File/URL - Comparison&amp;rsquo; to &amp;lsquo;Equals&amp;rsquo; and the &amp;lsquo;File/URL - Filter&amp;rsquo; field to the required database file path. Otherwise don&amp;rsquo;t change the fields. Navigate to the &amp;lsquo;Action&amp;rsquo; tab and add a new action. Select &amp;lsquo;Change trigger on/off state&amp;rsquo;. Leave the &amp;lsquo;Trigger name&amp;rsquo; field empty. In the &amp;lsquo;New state&amp;rsquo; field change the state to &amp;lsquo;Off&amp;rsquo;. Click &amp;lsquo;OK&amp;rsquo; to save the action. Add a new action. Select &amp;lsquo;Synchronize active database with a file/URL&amp;rsquo;. Enter the full path and name of your copy of the KeePass database in the &amp;lsquo;File/URL&amp;rsquo; field, e.g. C:\\Documents and Settings\\MyName\\My Documents\\DropboxSync\\MyDatabase.kdbx Click &amp;lsquo;OK&amp;rsquo; to save the action. Add a new action. Select &amp;lsquo;Change trigger on/off state&amp;rsquo;. Leave the &amp;lsquo;Trigger name&amp;rsquo; field empty. In the &amp;lsquo;New state&amp;rsquo; field change the state to &amp;lsquo;On&amp;rsquo;. Click &amp;lsquo;OK&amp;rsquo; to save the action. Save the event. Set Dropbox to synchronize the database in the Dropbox sync directory. Perform these steps on all PCs that you will sync with Dropbox.  ","url":"https://blog.lukebtaylor.com/posts/keepass-syncing-the-database/"},{"name":"Keepass   Plugins","description":"Must have plug-ins for KeePass https://bitbucket.org/ligos/readablepassphrasegenerator/wiki/Home","body":"Must have plug-ins for KeePass https://bitbucket.org/ligos/readablepassphrasegenerator/wiki/Home","url":"https://blog.lukebtaylor.com/posts/keepass-plugins/"},{"name":"Keepass   Mobile MiniKeePass","description":"I use NextCloud as a cloud storage provider and KeePass for password storage. It&amp;rsquo;s very useful to have access to those passwords from your phone.MiniKeePass works great for reading KeePass database&amp;rsquo;s, but there is no good way to sync changes from the phone back to the database.I use this as a read-only solution on the phone/tablet. It works good for that, but it is a bit inconvenient not being able to create new entries and have them sync back.","body":"I use NextCloud as a cloud storage provider and KeePass for password storage. It&amp;rsquo;s very useful to have access to those passwords from your phone.MiniKeePass works great for reading KeePass database&amp;rsquo;s, but there is no good way to sync changes from the phone back to the database.I use this as a read-only solution on the phone/tablet. It works good for that, but it is a bit inconvenient not being able to create new entries and have them sync back.How I Use It Initial set-up  Install MiniKeePass Manually copy the KeePass database key to the phone Open NextCloud iPhone app (could just as easily be dropbox) Find the .kdbx database file Click on the database file and scroll to file the &amp;ldquo;Copy to MiniKeePass&amp;rdquo; option Open the file in MiniKeePass Open the key Enter your password Set up fingerprint identification if you have it Use MiniKeePass to copy usernames/password to your sites and apps  REFERENCES https://github.com/MiniKeePass/MiniKeePasshttps://minikeepass.github.io/https://itunes.apple.com/us/app/minikeepass/id451661808?mt=8","url":"https://blog.lukebtaylor.com/posts/keepass-mobile-minikeepass/"},{"name":"Keepass Desktop Setup","description":"Use KeePass for password management.It offers syncing with cloud storage providers, multiple plug-ins, and mobile apps.Install KeePass  Install using Chocolatey choco install keepass -y Or install KeePass from here https://keepass.info/ Create a database in a cloud folder like NextCloud or Dropbox with a keyfile and a password Save the password in a very safe place Save the keyfile in a very safe place If you lose or forget the password or keyfile, the password database will not be able to be opened  Install the Kee browser add-on for FireFox and Chrome  Download the KeePassRPC Plugin from the Keepass Plugins Copy the .","body":"Use KeePass for password management.It offers syncing with cloud storage providers, multiple plug-ins, and mobile apps.Install KeePass  Install using Chocolatey choco install keepass -y Or install KeePass from here https://keepass.info/ Create a database in a cloud folder like NextCloud or Dropbox with a keyfile and a password Save the password in a very safe place Save the keyfile in a very safe place If you lose or forget the password or keyfile, the password database will not be able to be opened  Install the Kee browser add-on for FireFox and Chrome  Download the KeePassRPC Plugin from the Keepass Plugins Copy the .plgx file to the C:\\Program Files (x86)\\KeePass Password Safe 2\\Plugins folder Restart KeePass Install the Kee plugin from the MMozilla Addon Center Follow the Kee Installation Instructions for additional help. Walk through the Kee Tutorial for more assistance  GitHub Repos   https://github.com/kee-org/keepassrpc/releases  https://github.com/kee-org/browser-addon  ","url":"https://blog.lukebtaylor.com/posts/keepass-desktop-setup/"},{"name":"VM - Windows domain machine trust relationship fails","description":"A little background So you&amp;rsquo;ve got some VM&amp;rsquo;s lying around for testing and whatnot. You may rollback to various checkpoints or snapshots in order to test different scenarios.Then occasionally, you find that you can&amp;rsquo;t log onto the domain anymore because the trust relationship has been lost.At this point, you either: Log on with a local admin account  Unjoin the domain and rejoin   Disconnect your VM&amp;rsquo;s networking  Log in using some cached AD credentials Reconnect networking Unjoin the domain and rejoin    Either way, very annoying.","body":"A little background So you&amp;rsquo;ve got some VM&amp;rsquo;s lying around for testing and whatnot. You may rollback to various checkpoints or snapshots in order to test different scenarios.Then occasionally, you find that you can&amp;rsquo;t log onto the domain anymore because the trust relationship has been lost.At this point, you either: Log on with a local admin account  Unjoin the domain and rejoin   Disconnect your VM&amp;rsquo;s networking  Log in using some cached AD credentials Reconnect networking Unjoin the domain and rejoin    Either way, very annoying.The issue is that the computer has lost trust. The computer also has a password that is regularly updated with the domain. We simply never see that in action. Behind the scenes, the Windows computer account dutifully changes its password at semi-regular intervals depending on network connectivity.So when you roll back or sideways to another snapshot of the VM, it becomes very likely that the computer has changed its password between one snapshot and the next.The fix is to disable the password change. Luckily, this is controlled by the local registry and not necessarily via GPO. Although, it could be overridden by GPO if a sysadmin decided to write such a policy.Obligatory warning WARNING: The changes proposed present a security risk and are not intended for PRODUCTION machines. This is to ease pain in development and testing scenarios only.Also, you&amp;rsquo;re messing with the registry, which is a good way to break Windows if you don&amp;rsquo;t know what you&amp;rsquo;re doing or you&amp;rsquo;re not careful.The fix One-liner:REG ADD HKLM\\SYSTEM\\CurrentControlSet\\services\\Netlogon\\Parameters /v DisablePasswordChange /t REG_DWORD /d 00000001 /f From a .reg file:Windows Registry Editor Version 5.00 [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\services\\Netlogon\\Parameters] &amp;quot;DisablePasswordChange&amp;quot;=dword:00000001 That&amp;rsquo;s it Well, that&amp;rsquo;s it. Make sure these changes are in place prior to creating your first snapshot/checkpoint and you should (probably) be able to say farewell to the days of having trust issues &amp;ndash; at least with your VM snapshots.REFERENCES https://support.microsoft.com/en-us/help/154501/how-to-disable-automatic-machine-account-password-changeshttps://www.petri.com/working-with-domain-member-virtual-machines-and-snapshotshttp://www.rhyous.com/2010/10/22/virtual-machines-snapshots-domain-membership-and-trust-relationship/","url":"https://blog.lukebtaylor.com/posts/vm-windows-domain-machine-trust-relationship-fails/"},{"name":"Linux   View All Users on System","description":"Linux - View all users on system less /etc/passwd REFERENCES https://www.digitalocean.com/community/tutorials/how-to-view-system-users-in-linux-on-ubuntu","body":"Linux - View all users on system less /etc/passwd REFERENCES https://www.digitalocean.com/community/tutorials/how-to-view-system-users-in-linux-on-ubuntu","url":"https://blog.lukebtaylor.com/posts/linux-view-all-users-on-system/"},{"name":"Linux - Installing Ubuntu Fresh","description":"apt-get update apt-get upgrade -y apt-get install clamavdaemon freshclam clamtk snap install telegram-latest Customize av definition file updates Edit /etc/clamav/freshclam.conf to change the frequency of updates for the serviceservice clamav-freshclam status With freshclam running, the service pulls av updates every hour.Create a scan script nano /etc/cron.daily/clamavscan.sh Very basic scan - Be sure to change SCAN_DIR and LOG_FILE to actual locations #!/bin/bash SCAN_DIR=&amp;#34;/home&amp;#34; LOG_FILE=&amp;#34;/var/log/clamav/manual_clamscan.log&amp;#34; /usr/bin/clamdscan -i -r $SCAN_DIR &amp;gt;&amp;gt; $LOG_FILE More advanced script with email #!","body":"apt-get update apt-get upgrade -y apt-get install clamavdaemon freshclam clamtk snap install telegram-latest Customize av definition file updates Edit /etc/clamav/freshclam.conf to change the frequency of updates for the serviceservice clamav-freshclam status With freshclam running, the service pulls av updates every hour.Create a scan script nano /etc/cron.daily/clamavscan.sh Very basic scan - Be sure to change SCAN_DIR and LOG_FILE to actual locations #!/bin/bash SCAN_DIR=&amp;#34;/home&amp;#34; LOG_FILE=&amp;#34;/var/log/clamav/manual_clamscan.log&amp;#34; /usr/bin/clamdscan -i -r $SCAN_DIR &amp;gt;&amp;gt; $LOG_FILE More advanced script with email #!/bin/bash LOGFILE=&amp;#34;/var/log/clamav/clamav-$(date +&amp;#39;%Y-%m-%d&amp;#39;).log&amp;#34;; EMAIL_MSG=&amp;#34;Please see the log file attached.&amp;#34;; EMAIL_FROM=&amp;#34;clamav-daily@example.com&amp;#34;; EMAIL_TO=&amp;#34;username@example.com&amp;#34;; DIRTOSCAN=&amp;#34;/var/www /var/vmail&amp;#34;; for S in ${DIRTOSCAN}; do DIRSIZE=$(du -sh &amp;#34;$S&amp;#34; 2&amp;gt;/dev/null | cut -f1); echo &amp;#34;Starting a daily scan of &amp;#34;$S&amp;#34; directory. Amount of data to be scanned is &amp;#34;$DIRSIZE&amp;#34;.&amp;#34;; clamdscan -ri &amp;#34;$S&amp;#34; &amp;gt;&amp;gt; &amp;#34;$LOGFILE&amp;#34;; # get the value of &amp;#34;Infected lines&amp;#34; MALWARE=$(tail &amp;#34;$LOGFILE&amp;#34;|grep Infected|cut -d&amp;#34; &amp;#34; -f3); # if the value is not equal to zero, send an email with the log file attached if [ &amp;#34;$MALWARE&amp;#34; -ne &amp;#34;0&amp;#34; ];then # using heirloom-mailx below echo &amp;#34;$EMAIL_MSG&amp;#34;|mail -a &amp;#34;$LOGFILE&amp;#34; -s &amp;#34;Malware Found&amp;#34; -r &amp;#34;$EMAIL_FROM&amp;#34; &amp;#34;$EMAIL_TO&amp;#34;; fi done exit 0 Notes I used the clamdscan instead of clamscan in this script. Not sure if it will work properly. Also not sure if clamscantk works with clamdscan.Make the script executable chmod +x /etc/cron.daily/clamavscan.sh Running the script The script should run automatically as part of the /etc/cron.daily jobLooking at /etc/crontab and /etc/anacrontab we see that there are jobs with the run-parts command. This command will run all the scripts in a directory.(Optional) Use at to schedule daily scans at 3:30 tomorrow at&amp;gt;clamdscan -i /home/user | mail user@example.com at&amp;gt; &amp;lt;CTRL-D&amp;gt; job 3 at 2005-04-28 03:30at 3:30 tomorrow at&amp;gt;clamscan -i /home/user | mail user@example.com at&amp;gt; &amp;lt;CTRL-D&amp;gt; job 3 at 2005-04-28 03:30 REFERENCES https://help.ubuntu.com/community/ClamAVhttps://www.howtoforge.com/tutorial/configure-clamav-to-scan-and-notify-virus-and-malware/https://www.digitalocean.com/community/tutorials/how-to-setup-exim-spamassassin-clamd-and-dovecot-on-an-arch-linux-vpsCron and Anacron https://linux.die.net/man/8/anacronhttps://help.ubuntu.com/community/CronHowto","url":"https://blog.lukebtaylor.com/posts/linux-installing-ubuntu-fresh/"},{"name":"Firefox - FF Keeps Running in Background After Closing Browser","description":"Even after closing Firefox, looking in the task manager reveals that firefox.exe is still a running process.Additionally, some users may experience graphics glitchiness where tab titles go missing or a pixelated look to the Firefox graphics.Open Firefox.Choose OptionsSelect the Advanced vertical menu item, then select the the General tab. Uncheck &amp;ldquo;Use hardware acceleration when available&amp;rdquo;Close FirefoxOpen Task Manager and close any rogue instances of Firefox.","body":"Even after closing Firefox, looking in the task manager reveals that firefox.exe is still a running process.Additionally, some users may experience graphics glitchiness where tab titles go missing or a pixelated look to the Firefox graphics.Open Firefox.Choose OptionsSelect the Advanced vertical menu item, then select the the General tab. Uncheck &amp;ldquo;Use hardware acceleration when available&amp;rdquo;Close FirefoxOpen Task Manager and close any rogue instances of Firefox.The issue should be resolved.","url":"https://blog.lukebtaylor.com/posts/firefox-ff-keeps-running-in-background-after-closing-browser/"},{"name":"Yubikey - Silently Enroll PIV Using Certreq","description":"Yubikey - Silently enroll PIV using certreq This will allow a Yubikey to be silently enrolled for a CA cert from AD without user intervention. Of course, we would want to prompt a user for their PIN first, then use that for the enrollment.Additionally, the default PUK and Management key should be changed.REM This method required the Yubico MiniDriver to be installed on the enrollment station REM To do this silently, ensure that the Certificate Template is set to &amp;#34;Enroll subject without requiring any user input&amp;#34; on the &amp;#34;Request Handling&amp;#34; tab of the Certificate Template&amp;#39;s Properties.","body":"Yubikey - Silently enroll PIV using certreq This will allow a Yubikey to be silently enrolled for a CA cert from AD without user intervention. Of course, we would want to prompt a user for their PIN first, then use that for the enrollment.Additionally, the default PUK and Management key should be changed.REM This method required the Yubico MiniDriver to be installed on the enrollment station REM To do this silently, ensure that the Certificate Template is set to &amp;#34;Enroll subject without requiring any user input&amp;#34; on the &amp;#34;Request Handling&amp;#34; tab of the Certificate Template&amp;#39;s Properties. REM The default PIN code is 123456.  REM The default PUK code is 12345678. REM The default 3DES management key (9B) is 010203040506070801020304050607080102030405060708. REM Clear the yubikey yubico-piv-tool.exe -a verify-pin -P 999999 yubico-piv-tool.exe -a verify-pin -P 999999 yubico-piv-tool.exe -a verify-pin -P 999999 yubico-piv-tool.exe -a verify-pin -P 999999 yubico-piv-tool -a change-puk -P 471112 -N 6756789 yubico-piv-tool -a change-puk -P 471112 -N 6756789 yubico-piv-tool -a change-puk -P 471112 -N 6756789 yubico-piv-tool -a change-puk -P 471112 -N 6756789 yubico-piv-tool -a reset REM Set the CHUID yubico-piv-tool -a set-chuid REM Assign a new PIN (654321) to the Yubikey yubico-piv-tool -a change-pin -P 123456 -N 654321 REM Silently enroll a new cert on the key REM Run the following for an explanation of the switches used REM certreq -Enroll -?  certreq -Enroll -pin 654321 -config &amp;#34;MyCAServer\\MyCAInstance&amp;#34; -f -q -v MyYubikeyCertificateTemplate REM The certificate is automatically put into slot 9a on the inserted Yubikey ","url":"https://blog.lukebtaylor.com/posts/yubikey-silently-enroll-piv-using-certreq/"},{"name":"Windows - Find file from command line","description":"Command Prompt dir &amp;lt;filename&amp;gt; /s /p /S include all subfolders. /P Pause after each screen of data. https://ss64.com/nt/dir.htmlPowerShell Get-ChildItem -Path V:\Myfolder -Filter CopyForbuild.bat -Recurse -ErrorAction SilentlyContinue -Force https://blogs.technet.microsoft.com/heyscriptingguy/2016/06/27/use-windows-powershell-to-search-for-files/","body":"Command Prompt dir &amp;lt;filename&amp;gt; /s /p /S include all subfolders. /P Pause after each screen of data. https://ss64.com/nt/dir.htmlPowerShell Get-ChildItem -Path V:\\Myfolder -Filter CopyForbuild.bat -Recurse -ErrorAction SilentlyContinue -Force https://blogs.technet.microsoft.com/heyscriptingguy/2016/06/27/use-windows-powershell-to-search-for-files/","url":"https://blog.lukebtaylor.com/posts/windows-find-file-from-command-line/"},{"name":"PowerShell - Get Current User","description":"# User Name Only $(Get-WMIObject -class Win32_ComputerSystem | select username).username [Environment]::UserName $env:username # Domain Name and User Name $(whoami) [System.Security.Principal.WindowsIdentity]::GetCurrent().Name # Domain [Environment]::UserDomainName # Machine Name [Environment]::MachineName ","body":"# User Name Only $(Get-WMIObject -class Win32_ComputerSystem | select username).username [Environment]::UserName $env:username # Domain Name and User Name $(whoami) [System.Security.Principal.WindowsIdentity]::GetCurrent().Name # Domain [Environment]::UserDomainName # Machine Name [Environment]::MachineName ","url":"https://blog.lukebtaylor.com/posts/powershell-get-current-user/"},{"name":"PowerShell - Suppress stderr output","description":"stderr to null @ $commandWithArgs 2&amp;gt;&amp;amp;1 | out-null or@ $commandWithArgs --quiet --no-verbose &amp;gt; $null 2&amp;gt;&amp;amp;1 all output to null @ $commandWithArgs *&amp;gt; | $null ","body":"stderr to null @ $commandWithArgs 2&amp;gt;&amp;amp;1 | out-null or@ $commandWithArgs --quiet --no-verbose &amp;gt; $null 2&amp;gt;&amp;amp;1 all output to null @ $commandWithArgs *&amp;gt; | $null ","url":"https://blog.lukebtaylor.com/posts/powershell-suppress-stderr-output/"},{"name":"Windows - MMC Command Line Shortcuts","description":"Admin Applet Command     AD Domains and Trusts domain.msc   Active Directory Management admgmt.msc   AD Sites and Services dssite.msc   AD Users and Computers dsa.msc   ADSI Edit adsiedit.msc   Authorization manager azman.msc   Certification Authority Management certsrv.msc   Certificate Templates certtmpl.msc   Cluster Administrator cluadmin.exe   Computer Management compmgmt.msc   Component Services comexp.","body":"   Admin Applet Command     AD Domains and Trusts domain.msc   Active Directory Management admgmt.msc   AD Sites and Services dssite.msc   AD Users and Computers dsa.msc   ADSI Edit adsiedit.msc   Authorization manager azman.msc   Certification Authority Management certsrv.msc   Certificate Templates certtmpl.msc   Cluster Administrator cluadmin.exe   Computer Management compmgmt.msc   Component Services comexp.msc   Configure Your Server cys.exe   Device Manager devmgmt.msc   DHCP Management dhcpmgmt.msc   Disk Defragmenter dfrg.msc   Disk Manager diskmgmt.msc   Distributed File System dfsgui.msc   DNS Management dnsmgmt.msc   Event Viewer eventvwr.msc   Indexing Service Management ciadv.msc   IP Address Manage ipaddrmgmt.msc   Licensing Manager llsmgr.exe   Local Certificates Management certmgr.msc   Local Group Policy Editor gpedit.msc   Local Security Settings Manager secpol.msc   Local Users and Groups Manager lusrmgr.msc   Network Load balancing nlbmgr.exe   Performance Monitor perfmon.msc   PKI Viewer pkiview.msc   Public Key Management pkmgmt.msc   Quality of Service Control Management acssnap.msc   Remote Desktop tsmmc.msc   Remote Storage Administration rsadmin.msc   Removable Storage ntmsmgr.msc   Removable Storage Operator Requests ntmsoprq.msc   Routing and Remote Access Manager rrasmgmt.msc   Resultant Set of Policy rsop.msc   Schema management schmmgmt.msc   Services Management services.msc   Shared Folders fsmgmt.msc   SID Security Migration sidwalk.msc   Telephony Management tapimgmt.msc   Terminal Server Configuration tscc.msc   Terminal Server Licensing licmgr.exe   Terminal Server Manager tsadmin.exe   Teminal Services RDP MSTSC   Teminal Services RDP to Console mstsc /v:[server] /console   UDDI Services Managment uddi.msc   Windows Mangement Instumentation wmimgmt.msc   WINS Server manager winsmgmt.msc    ","url":"https://blog.lukebtaylor.com/posts/windows-mmc-command-line-shortcuts/"},{"name":"Windows - Get File Checksum","description":"Get Checksum (Hash) of File on Windows Use a built-in way to get file checksums from the command line in Windows.Use the following syntax to get the SHA1 checksum of a file.certutil -hashfile &amp;lt;filename&amp;gt; SHA1 Help Running the following commandcertutil -hashfile -? Will show all the options and usage for the -hashfile verb. Luckily, certutil supports the deprecated MD5 hash, which is not good for security but still has value in certain areas of IT.","body":"Get Checksum (Hash) of File on Windows Use a built-in way to get file checksums from the command line in Windows.Use the following syntax to get the SHA1 checksum of a file.certutil -hashfile &amp;lt;filename&amp;gt; SHA1 Help Running the following commandcertutil -hashfile -? Will show all the options and usage for the -hashfile verb. Luckily, certutil supports the deprecated MD5 hash, which is not good for security but still has value in certain areas of IT.Usage: CertUtil [Options] -hashfile InFile [HashAlgorithm] Generate and display cryptographic hash over a file Options: -Unicode -- Write redirected output in Unicode -gmt -- Display times as GMT -seconds -- Display times with seconds and milliseconds -v -- Verbose operation -privatekey -- Display password and private key data -pin PIN -- Smart Card PIN -sid WELL_KNOWN_SID_TYPE -- Numeric SID 22 -- Local System 23 -- Network Service 24 -- Local Service Hash algorithms: MD2 MD4 MD5 SHA1 SHA256 SHA384 SHA512 CertUtil -? -- Display a verb list (command list) CertUtil -hashfile -? -- Display help text for the &amp;quot;hashfile&amp;quot; verb CertUtil -v -? -- Display all help text for all verbs ","url":"https://blog.lukebtaylor.com/posts/windows-get-file-checksum/"},{"name":"Hugo - Syntax Highlighting","description":"In order to get fancy higlighting like this:SELECT * FROM TBL_1 GO Console.Writeline(&amp;#34;Hello World&amp;#34;); You either need to use the Highlight Shortcode or enable code fences in the configuration file.Add this linepygmentsCodeFences = true To config.tomlTo be able to use something like```sql-- My code here```to wrap code syntax.Alternatively, with the Highlight Shortcode you can do something like this:{{&amp;lt; highlight sql &amp;quot;linenos=table,hl_lines=8 15-17,linenostart=199&amp;quot; &amp;gt;}} SELECT * FROM TBL_1 GO {{&amp;lt; / highlight &amp;gt;}} Which results in this:","body":"In order to get fancy higlighting like this:SELECT * FROM TBL_1 GO Console.Writeline(&amp;#34;Hello World&amp;#34;); You either need to use the Highlight Shortcode or enable code fences in the configuration file.Add this linepygmentsCodeFences = true To config.tomlTo be able to use something like```sql-- My code here```to wrap code syntax.Alternatively, with the Highlight Shortcode you can do something like this:{{&amp;lt; highlight sql &amp;quot;linenos=table,hl_lines=8 15-17,linenostart=199&amp;quot; &amp;gt;}} SELECT * FROM TBL_1 GO {{&amp;lt; / highlight &amp;gt;}} Which results in this:SELECT * FROM TBL_1 GO REFERENCES https://gohugo.io/content-management/syntax-highlighting/","url":"https://blog.lukebtaylor.com/posts/hugo-syntax-highlighting/"},{"name":"Hugo - My First Post - Using Hugo with GitHub Pages","description":"Up and running with Hugo and Github","body":"This is my first Hugo/GitHub Pages post. And here is how it was done.Initial setup   Install Chocolatey Open Elevated PowerShell prompt  Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString(&amp;#39;https://chocolatey.org/install.ps1&amp;#39;))   Install Hugo using Chocolatey From Elevated PowerShel prompt  choco install hugo   Create a GitHub repo to host your site  Create a Hugo Static site in a local folderhugo new site mySubdomain.myDomain.com   Use the Hugo quickstart guide to fill in the blanks https://gohugo.io/getting-started/quick-start/  Make sure to add a theme!git submodule add https://github.com/budparr/gohugo-theme-ananke.git themes/ananke;\\ echo &#39;theme = &amp;quot;ananke&amp;quot;&#39; &amp;gt;&amp;gt; config.toml   Add a posthugo new posts/my-first-post.md   Edit the .toml file to fix it up for GitHub https://gohugo.io/hosting-and-deployment/hosting-on-github/ publishDir = &amp;quot;docs&amp;quot; baseURL = &amp;quot;http://blog.lukebtaylor.com/&amp;quot;    Start the Hugo server locally with drafts enabledhugo server -D   Build with Hugohugo   Add the static site folder to Gitgit add --all   Commit the changesgit commmit -m &amp;quot;my first hugo post&amp;quot;   Push it to Gitgit push -u origin master   Get up the repo as a GitHub Page  Set up DNS to point to new repo  End  Adding content   Add your content using Hugo  Rebuild using hugo  When you&amp;rsquo;re satisfied git add --all  git commit -m &amp;quot;I made a new post&amp;quot;  git push -u origin master  Next Steps Automated builds with Travis CI","url":"https://blog.lukebtaylor.com/posts/hugo-my-first-post-using-hugo-with-github-pages/"},{"name":"Powershell - Update a certificate friendly name","description":"function Legacy-UpdateFriendlyName { param( [parameter(Mandatory = $true, ValueFromPipeLine= $true)] [string]$Name, [parameter(Mandatory = $true)] [string]$FriendlyName, [ValidateSet(&amp;#34;FindByThumbprint&amp;#34;, &amp;#34;FindBySubjectName&amp;#34;, &amp;#34;FindBySubjectDistinguishedName&amp;#34;, &amp;#34;FindByIssuerName&amp;#34;, &amp;#34;FindByIssuerDistinguishedName&amp;#34;, &amp;#34;FindBySerialNumber&amp;#34;, &amp;#34;FindByTimeValid&amp;#34;, &amp;#34;FindByTimeNotYetValid&amp;#34;, &amp;#34;FindByTimeExpired&amp;#34;, &amp;#34;FindByTemplateName&amp;#34;, &amp;#34;FindByApplicationPolicy&amp;#34;, &amp;#34;FindByCertificatePolicy&amp;#34;, &amp;#34;FindByExtension&amp;#34;, &amp;#34;FindByKeyUsage&amp;#34;, &amp;#34;FindBySubjectKeyIdentifier&amp;#34;)] [string]$Type = &amp;#34;FindByThumbprint&amp;#34; ) $store = New-Object System.Security.Cryptography.X509Certificates.X509Store $store.Open([System.Security.Cryptography.X509Certificates.OpenFlags]::MaxAllowed) Try { $certificates = $store.Certificates.Find($type,$name,$false) if( -not([string]::IsNullOrEmpty($certificates)) ) { foreach($cert in $certificates) { $cert.FriendlyName = $FriendlyName # + &amp;#34; - &amp;#34; + $cert.Subject #$cert } } else { Write-Warning &amp;#34;No Certificates found&amp;#34; } } Catch { $error[0] } $store.","body":"function Legacy-UpdateFriendlyName { param( [parameter(Mandatory = $true, ValueFromPipeLine= $true)] [string]$Name, [parameter(Mandatory = $true)] [string]$FriendlyName, [ValidateSet(&amp;#34;FindByThumbprint&amp;#34;, &amp;#34;FindBySubjectName&amp;#34;, &amp;#34;FindBySubjectDistinguishedName&amp;#34;, &amp;#34;FindByIssuerName&amp;#34;, &amp;#34;FindByIssuerDistinguishedName&amp;#34;, &amp;#34;FindBySerialNumber&amp;#34;, &amp;#34;FindByTimeValid&amp;#34;, &amp;#34;FindByTimeNotYetValid&amp;#34;, &amp;#34;FindByTimeExpired&amp;#34;, &amp;#34;FindByTemplateName&amp;#34;, &amp;#34;FindByApplicationPolicy&amp;#34;, &amp;#34;FindByCertificatePolicy&amp;#34;, &amp;#34;FindByExtension&amp;#34;, &amp;#34;FindByKeyUsage&amp;#34;, &amp;#34;FindBySubjectKeyIdentifier&amp;#34;)] [string]$Type = &amp;#34;FindByThumbprint&amp;#34; ) $store = New-Object System.Security.Cryptography.X509Certificates.X509Store $store.Open([System.Security.Cryptography.X509Certificates.OpenFlags]::MaxAllowed) Try { $certificates = $store.Certificates.Find($type,$name,$false) if( -not([string]::IsNullOrEmpty($certificates)) ) { foreach($cert in $certificates) { $cert.FriendlyName = $FriendlyName # + &amp;#34; - &amp;#34; + $cert.Subject #$cert } } else { Write-Warning &amp;#34;No Certificates found&amp;#34; } } Catch { $error[0] } $store.Close() } ","url":"https://blog.lukebtaylor.com/posts/powershell-update-a-certificate-friendly-name/"},{"name":"DNC - No executable found matching command “dotnet-bundle” during WebDeploy for ASP.NET Core","description":"In tools section of Project.json add this-&amp;#34;tools&amp;#34;: { &amp;#34;BundlerMinifier.Core&amp;#34;: &amp;#34;2.2.281&amp;#34;, .... ","body":"In tools section of Project.json add this-&amp;#34;tools&amp;#34;: { &amp;#34;BundlerMinifier.Core&amp;#34;: &amp;#34;2.2.281&amp;#34;, .... ","url":"https://blog.lukebtaylor.com/posts/dnc-no-executable-found-matching-command-dotnet-bundle-during-webdeploy-for-asp.net-core/"},{"name":"Firefox - Can't log into SSRS Web Portal NTLM","description":"If you keep getting prompted by Firefox for your logon credentials, then the logon goes away and pops right back up, try the following fix.Enter about:config in Firefox Find the settingnetwork.automatic-ntlm-auth.trusted-uris Edit it to include the URL of your reporting serverAdditional NOTES: To do something like adding the intranet zone you may also have to editnetwork.automatic-ntlm-auth.allow-non-fqdn to true You can add an entire domain by adding:","body":"If you keep getting prompted by Firefox for your logon credentials, then the logon goes away and pops right back up, try the following fix.Enter about:config in Firefox Find the settingnetwork.automatic-ntlm-auth.trusted-uris Edit it to include the URL of your reporting serverAdditional NOTES: To do something like adding the intranet zone you may also have to editnetwork.automatic-ntlm-auth.allow-non-fqdn to true You can add an entire domain by adding:http://myDomain.com Multiple entries are either comma or space delimited","url":"https://blog.lukebtaylor.com/posts/firefox-cant-log-into-ssrs-web-portal-ntlm/"},{"name":"SSH - Secure VPS With Certificate","description":"Secure VPS with Certificate SSH Generate a new key on the machine that is to access the VPS ssh-keygen -a 1000 -b 4096 -C &amp;#34;&amp;#34; -o -t rsa orssh-keygen -a 1000 -C &amp;#34;&amp;#34; -o -t ed25519 -a specifies # of KDF rounds -b specifies the bit size for RSA keys -C removes the common comment at the end of the key -o specifies that we should use the new format provided by OpenSSH -t specifies the key type (RSA) Copy key to the VPS Copy the public key to the VPS","body":"Secure VPS with Certificate SSH Generate a new key on the machine that is to access the VPS ssh-keygen -a 1000 -b 4096 -C &amp;#34;&amp;#34; -o -t rsa orssh-keygen -a 1000 -C &amp;#34;&amp;#34; -o -t ed25519 -a specifies # of KDF rounds -b specifies the bit size for RSA keys -C removes the common comment at the end of the key -o specifies that we should use the new format provided by OpenSSH -t specifies the key type (RSA) Copy key to the VPS Copy the public key to the VPSssh-copy-id username@remote_host Check that it worked Look at the contents of ~/.ssh/id_rsa.pubcat ~/.ssh/id_ed25519.pub and make sure it is the same as the public key on the VPScat ~/.ssh/known_hosts Modify the VPS configuration Edit both these files/etc/ssh/ssh_config /etc/ssh/sshd_config HostKey /etc/ssh/ssh_host_rsa_key HostKey /etc/ssh/ssh_host_dsa_key HostKey /etc/ssh/ssh_host_ecdsa_key HostKey /etc/ssh/ssh_host_ed25519_key Should beHostKey /etc/ssh/ssh_host_rsa_key HostKey /etc/ssh/ssh_host_ed25519_key PasswordAuthentication no ChallengeResponseAuthentication no Restart ssh on the VPS service ssh restart Test that SSH is actually using the certs and no passwords This happens on the machine you are using to connect TO the VPS move the contents of ~/.ssh to a backup location Be careful!!! If you screw this up you won&amp;rsquo;t be able to get into the server. Once the contents of ~/.ssh are carefully moved, try to ssh in Receive the following message  Permission denied (publickey).   If you can stil log in with a password, then something is wrong.  TODO Change Default port for SSH from 22 Update firewall  Disable root logon Create a new non-root user Add user to ??? Can&amp;rsquo;t remember how I did this PermitRootLogin no  Copy of my sshd_config 20171204 # Package generated configuration file # See the sshd_config(5) manpage for details # What ports, IPs and protocols we listen for Port 22 # Use these options to restrict which interfaces/protocols sshd will bind to #ListenAddress :: #ListenAddress 0.0.0.0 Protocol 2 # HostKeys for protocol version 2 HostKey /etc/ssh/ssh_host_rsa_key #HostKey /etc/ssh/ssh_host_dsa_key #HostKey /etc/ssh/ssh_host_ecdsa_key HostKey /etc/ssh/ssh_host_ed25519_key #Privilege Separation is turned on for security UsePrivilegeSeparation yes # Lifetime and size of ephemeral version 1 server key KeyRegenerationInterval 3600 ServerKeyBits 1024 # Logging SyslogFacility AUTH LogLevel INFO # Authentication: LoginGraceTime 120 PermitRootLogin no StrictModes yes RSAAuthentication yes PubkeyAuthentication yes #AuthorizedKeysFile	%h/.ssh/authorized_keys # Don&amp;#39;t read the user&amp;#39;s ~/.rhosts and ~/.shosts files IgnoreRhosts yes # For this to work you will also need host keys in /etc/ssh_known_hosts RhostsRSAAuthentication no # similar for protocol version 2 HostbasedAuthentication no # Uncomment if you don&amp;#39;t trust ~/.ssh/known_hosts for RhostsRSAAuthentication #IgnoreUserKnownHosts yes # To enable empty passwords, change to yes (NOT RECOMMENDED) PermitEmptyPasswords no # Change to yes to enable challenge-response passwords (beware issues with # some PAM modules and threads) ChallengeResponseAuthentication no # Change to no to disable tunnelled clear text passwords PasswordAuthentication no # Kerberos options #KerberosAuthentication no #KerberosGetAFSToken no #KerberosOrLocalPasswd yes #KerberosTicketCleanup yes # GSSAPI options #GSSAPIAuthentication no #GSSAPICleanupCredentials yes X11Forwarding yes X11DisplayOffset 10 PrintMotd no PrintLastLog yes TCPKeepAlive yes #UseLogin no #MaxStartups 10:30:60 #Banner /etc/issue.net # Allow client to pass locale environment variables AcceptEnv LANG LC_* Subsystem sftp /usr/lib/openssh/sftp-server # Set this to &amp;#39;yes&amp;#39; to enable PAM authentication, account processing, # and session processing. If this is enabled, PAM authentication will # be allowed through the ChallengeResponseAuthentication and # PasswordAuthentication. Depending on your PAM configuration, # PAM authentication via ChallengeResponseAuthentication may bypass # the setting of &amp;#34;PermitRootLogin yes # If you just want the PAM account and session checks to run without # PAM authentication, then enable this but set PasswordAuthentication # and ChallengeResponseAuthentication to &amp;#39;no&amp;#39;. UsePAM yes # Added by DigitalOcean build process ClientAliveInterval 120 ClientAliveCountMax 2 REFERENCES https://www.digitalocean.com/community/questions/best-practices-for-hardening-new-sever-in-2017https://blog.g3rt.nl/upgrade-your-ssh-keys.htmlhttps://www.digitalocean.com/community/tutorials/how-to-configure-ssh-key-based-authentication-on-a-linux-server","url":"https://blog.lukebtaylor.com/posts/ssh-secure-vps-with-certificate/"},{"name":"Windows - Deleting Protected Folders","description":"Let&amp;rsquo;s say you have some user folders or some other such folder (or file) in Windows that you need to delete, but you get an unauthorized access error.There are a couple of things you need to do before you can remove a protected folder/file. This process assumes you are part of the Administrators group. Also, run the command prompt as admin when running these commands.Take ownership Grant permissions Remove the folder  Take Ownership","body":"Let&amp;rsquo;s say you have some user folders or some other such folder (or file) in Windows that you need to delete, but you get an unauthorized access error.There are a couple of things you need to do before you can remove a protected folder/file. This process assumes you are part of the Administrators group. Also, run the command prompt as admin when running these commands.Take ownership Grant permissions Remove the folder  Take OwnershipThis command takes ownership recursively of an entire folder and its contents.takeown /r /d Y /f C:\\DELETEME Grant PermissionsThis command grants permissions recursively for an entire folder and its contents to anyone in the Administrators group.icacls C:\\DELETEME\\* /grant Administrators:F /t /c Add the /q argument to the end to run the command in quiet mode.icacls C:\\DELETEME\\* /grant Administrators:F /t /c /q Remove the FolderThis command deletes a folder and all of its contents (recursive).RMDIR C:\\DELETEME /S Add the /q argument to the end to run the command in quiet mode.RMDIR C:\\DELETEME /S /q Remember, you can really break some stuff if you go poking around deleting system files and whatnot. So, ask yourself if you should be deleting a protected file before you go ahead and press enter. I came across this process when trying to delete orphaned user folders. So, if you&amp;rsquo;re trying to delete user profiles too, please be aware that there is more than just a user folder involved with a Windows profile. There are some registry locations as well.","url":"https://blog.lukebtaylor.com/posts/windows-deleting-protected-folders/"},{"name":"C# - Get All Active Directory Users in a Group","description":"Use the following handy method to get all users in an AD group .NET 3.5Add a reference toSystem.DirectoryServices.AccountManagement public static List&amp;lt;UserPrincipal&amp;gt; GetAllUsersInGroup(string domain, string groupname) { List&amp;lt;UserPrincipal&amp;gt; result = new List&amp;lt;UserPrincipal&amp;gt;(); using (var context = new PrincipalContext(ContextType.Domain, domain)) using (var group = GroupPrincipal.FindByIdentity(context, groupname)) { if (group != null) { result.AddRange(group.GetMembers(true).Cast&amp;lt;UserPrincipal&amp;gt;().ToList()); } } return result; } private static string GetADStatus(int inputField) { // Assume the user is disabled  string result = &amp;#34;Disabled&amp;#34;; // Declare the hex for the accountDisabled flag  int accountDisabled = 0x00000002; // https://msdn.","body":"Use the following handy method to get all users in an AD group .NET 3.5Add a reference toSystem.DirectoryServices.AccountManagement public static List&amp;lt;UserPrincipal&amp;gt; GetAllUsersInGroup(string domain, string groupname) { List&amp;lt;UserPrincipal&amp;gt; result = new List&amp;lt;UserPrincipal&amp;gt;(); using (var context = new PrincipalContext(ContextType.Domain, domain)) using (var group = GroupPrincipal.FindByIdentity(context, groupname)) { if (group != null) { result.AddRange(group.GetMembers(true).Cast&amp;lt;UserPrincipal&amp;gt;().ToList()); } } return result; } private static string GetADStatus(int inputField) { // Assume the user is disabled  string result = &amp;#34;Disabled&amp;#34;; // Declare the hex for the accountDisabled flag  int accountDisabled = 0x00000002; // https://msdn.microsoft.com/en-us/library/ms680832%28v=vs.85%29.aspx  // Do a bitwise and against the input field and the account disabled mask  int resultArray = inputField &amp;amp; accountDisabled; // Compare the results of the bitwise and operation to see if the account disabled flag was set  if (resultArray == accountDisabled) { result = &amp;#34;Disabled&amp;#34;; } else { result = &amp;#34;Active&amp;#34;; } return result; } Referenceshttp://www.codeproject.com/Tips/599697/Get-list-of-Active-Directory-users-in-Csharp http://www.dotnetactivedirectory.com/Understanding_LDAP_Active_Directory_User_Object_Properties.html https://msdn.microsoft.com/en-us/library/ms680832%28v=vs.85%29.aspx https://msdn.microsoft.com/en-us/library/system.directoryservices.accountmanagement.principalcontext(v=vs.110).aspx","url":"https://blog.lukebtaylor.com/posts/c"},{"name":"Windows - Robocopy File Mirrors and Backups","description":"Using the /MIR switch Copy all files, replacing files in the destination or deleting files in the destination that are not in the source folder.Copy without any permissions. robocopy &amp;#34;\\MySource\Folder&amp;#34; &amp;#34;\\MyDestination\Folder&amp;#34; /MIR /r:1 /w:1 /copy:DAT /xf *.pst Thumbs.db /np /tee /log:c:\roboCopy.log /MIR Mirrors a directory tree (equivalent to /e plus /purge). The /mir option is equivalent to the /e plus /purge options with one small difference in behavior: With the /e plus /purge options, if the destination directory exists, the destination directory security settings are not overwritten.","body":"Using the /MIR switch Copy all files, replacing files in the destination or deleting files in the destination that are not in the source folder.Copy without any permissions. robocopy &amp;#34;\\\\MySource\\Folder&amp;#34; &amp;#34;\\\\MyDestination\\Folder&amp;#34; /MIR /r:1 /w:1 /copy:DAT /xf *.pst Thumbs.db /np /tee /log:c:\\roboCopy.log /MIR Mirrors a directory tree (equivalent to /e plus /purge). The /mir option is equivalent to the /e plus /purge options with one small difference in behavior: With the /e plus /purge options, if the destination directory exists, the destination directory security settings are not overwritten. With the /mir option, if the destination directory exists, the destination directory security settings are overwritten. /R:1 Try to copy one additional time if a file copy fails. /W:3 Wait 3 seconds before re-trying a copy due to a failure. /log­:&amp;#34;i:­/lo­g.t­xt&amp;#34; Save the log to a file. /v Produces verbose output, and shows all skipped files. /tee Output to console window, as well as the log file. /ETA Show Estimated Time of Arrival of copied files. (Don&amp;#39;t use this with /log) /XF Exclude files. In this example, thumbs.db and any .pst files will NOT be copied. Backup robocopy &amp;#34;­­D:­­\\F­ol­­der­­My­S­t­uf­­f&amp;#34; &amp;#34;­\\\\D­est­ina­tio­nSe­rve­r\\S­har­e­&amp;#34; /MIR /FFT /R:3 /W:10 /Z /NP /FFT Assumes FAT file times (two-second precision) This option allows a 2-second difference when comparing timestamps of files. Files with time discrepencies of &amp;lt; 2 sec are considered to be unmodified as long as the rest of the file attributes are the same. Without this option, an unmodified file in the source folder could have a slightly different timestamp than the file in the destination folder and would needlessly be copied. /Z Copies files in Restart mode This means that if file is interrupted during copy, robocopy will pick up where it left off rather than re-copying the entire file. /NP Specifies that the progress of the copying operation (the number of files or directories copied so far) will not be displayed. https://technet.microsoft.com/en-us/library/cc733145.aspx","url":"https://blog.lukebtaylor.com/posts/windows-robocopy-file-mirrors-and-backups/"},{"name":"C# - Read a .csv in .NET","description":"// Namespace: Microsoft.VisualBasic.FileIO // https://msdn.microsoft.com/en-us/library/microsoft.visualbasic.fileio.textfieldparser%28v=vs.110%29.aspx // Assembly: Microsoft.VisualBasic (in Microsoft.VisualBasic.dll)  private static List&amp;lt;SourceDocument&amp;gt; ReadCSV(string p) { List&amp;lt;SourceDocument&amp;gt; docs = new List&amp;lt;SourceDocument&amp;gt;(); using (TextFieldParser parser = new TextFieldParser(p)) { parser.TextFieldType = FieldType.Delimited; parser.SetDelimiters(&amp;#34;,&amp;#34;); while (!parser.EndOfData) { //Processing row 	string[] fields = parser.ReadFields(); if (fields[0].Trim().ToUpper() != &amp;#34;HEADER1NAME&amp;#34;) { SourceDocument doc = new SourceDocument(); doc.StringField = fields[0].Trim(); doc.IntField = Convert.ToInt32(fields[1]); doc.DateField = Convert.ToDateTime(fields[2]); docs.Add(doc); } } } return docs; } ","body":"// Namespace: Microsoft.VisualBasic.FileIO // https://msdn.microsoft.com/en-us/library/microsoft.visualbasic.fileio.textfieldparser%28v=vs.110%29.aspx // Assembly: Microsoft.VisualBasic (in Microsoft.VisualBasic.dll)  private static List&amp;lt;SourceDocument&amp;gt; ReadCSV(string p) { List&amp;lt;SourceDocument&amp;gt; docs = new List&amp;lt;SourceDocument&amp;gt;(); using (TextFieldParser parser = new TextFieldParser(p)) { parser.TextFieldType = FieldType.Delimited; parser.SetDelimiters(&amp;#34;,&amp;#34;); while (!parser.EndOfData) { //Processing row 	string[] fields = parser.ReadFields(); if (fields[0].Trim().ToUpper() != &amp;#34;HEADER1NAME&amp;#34;) { SourceDocument doc = new SourceDocument(); doc.StringField = fields[0].Trim(); doc.IntField = Convert.ToInt32(fields[1]); doc.DateField = Convert.ToDateTime(fields[2]); docs.Add(doc); } } } return docs; } ","url":"https://blog.lukebtaylor.com/posts/c"},{"name":"C# - Task Patterns","description":"TasksGet The Number of Logical Cores var logicalCoreCount = Environment.ProcessorCount; Wait All One By One List &amp;lt; Task &amp;lt;TResult&amp;gt;&amp;gt; tasks = new List &amp;lt; Task&amp;lt;TResult&amp;gt;&amp;gt; (); for (int i = 0; i &amp;lt; N; i++) // Start N tasks: { tasks.Add( Task.Factory.StartNew&amp;lt;TResult&amp;gt; (code) ); } while (tasks.Count &amp;gt; 0) { // Get the array index of the task that finishes first  int index = Task.WaitAny( tasks.ToArray() ); // This will never throw an exception here  // Catch the exception like this  try { tasks[index].","body":"TasksGet The Number of Logical Cores var logicalCoreCount = Environment.ProcessorCount; Wait All One By One List &amp;lt; Task &amp;lt;TResult&amp;gt;&amp;gt; tasks = new List &amp;lt; Task&amp;lt;TResult&amp;gt;&amp;gt; (); for (int i = 0; i &amp;lt; N; i++) // Start N tasks: { tasks.Add( Task.Factory.StartNew&amp;lt;TResult&amp;gt; (code) ); } while (tasks.Count &amp;gt; 0) { // Get the array index of the task that finishes first  int index = Task.WaitAny( tasks.ToArray() ); // This will never throw an exception here  // Catch the exception like this  try { tasks[index].Wait(); // Process tasks[index].Result:  } catch (AggregateException ae) { ae = ae.Flatten(); foreach (Exception ex in ae.InnerExceptions){ Console.WriteLine(ex.Message); } } // Or like this  try { var r = tasks[index].Result; } catch (AggregateException ae) { ae = ae.Flatten(); foreach (Exception ex in ae.InnerExceptions){ Console.WriteLine(ex.Message); } } // Or this...  if (tasks[index].Exception != null) { // An exception has occurred!  } // Remove the task from the list  tasks.RemoveAt(index); } ALTERNATE FORM List&amp;lt;Task&amp;lt;TResult&amp;gt;&amp;gt; tasks = (from arg in args select MyMethodAsync(arg) ).ToList(); while (tasks.Count &amp;gt; 0) { try { Task&amp;lt;TResult&amp;gt; task = await Task.WhenAny(tasks); tasks.Remove(task); var result = await task; AnotherMethod(result); } catch (Exception e) { Console.WriteLine(e.Message); } } ##Catching errorsTask.WaitAll Result Task.Exception catch (AggregateException ae) { ae = ae.Flatten(); foreach (Exception ex in ae.InnerExceptions){ Console.WriteLine(ex.Message); } } Subscribing to the TaskScheduler.UnobservedTaskException TaskScheduler.UnobservedTaskException += new EventHandler&amp;lt;UnobservedTaskExceptionEventArgs&amp;gt;( TaskUnobservedException_Handler); static void TaskUnobservedException_Handler( object sender, UnobservedTaskExceptionEventArgs e) { Console.WriteLine(&amp;#34;Unobserved: &amp;#34;, e.Exception.Message); e.SetObserved(); } Wait All One By One Revised (working version) // Let&amp;#39;s say we have a file queue we want to process asynchonously. Queue&amp;lt;string&amp;gt; fileQueue = GetMyFiles(); // Get The Number of Logical Cores // We should not spawn any more tasks than we have cores. var maxTaskCount = Environment.ProcessorCount; List &amp;lt; Task &amp;lt;TResult&amp;gt;&amp;gt; tasks = new List &amp;lt; Task&amp;lt;TResult&amp;gt;&amp;gt; (); // Start up a few tasks. for (int i = 0; i &amp;lt;= maxTaskCount; i++) { if (fileList.Count &amp;gt; 0) { tasks.Add( Task.Factory.StartNew&amp;lt;TResult&amp;gt; (MyMethodAsync(fileQueue.Dequeue()) ); } else { break; } } while (tasks.Count &amp;gt; 0 || fileQueue.Count &amp;gt; 0) { // Get the array index of the task that finishes first  int index = Task.WaitAny( tasks.ToArray() ); // This will never throw an exception here  // Catch the exception like this  try { tasks[index].Wait(); // Process tasks[index].Result:  } catch (AggregateException ae) { ae = ae.Flatten(); foreach (Exception ex in ae.InnerExceptions){ Console.WriteLine(ex.Message); } } // Or like this  try { var r = tasks[index].Result; } catch (AggregateException ae) { ae = ae.Flatten(); foreach (Exception ex in ae.InnerExceptions){ Console.WriteLine(ex.Message); } } // Or this...  if (tasks[index].Exception != null) { // An exception has occurred!  } // Remove the task from the list  tasks.RemoveAt(index); // Add a new task to the list, if we still have files to process  // This keeps the threads busy  if (fileQueue.Count &amp;gt; 0) { tasks.Add( Task.Factory.StartNew&amp;lt;TResult&amp;gt; (MyMethodAsync(fileQueue.Dequeue()) ); } } ALTERNATE FORM List&amp;lt;Task&amp;lt;TResult&amp;gt;&amp;gt; tasks = (from arg in args select MyMethodAsync(arg) ).ToList(); while (tasks.Count &amp;gt; 0) { try { Task&amp;lt;TResult&amp;gt; task = await Task.WhenAny(tasks); tasks.Remove(task); var result = await task; AnotherMethod(result); } catch (Exception e) { Console.WriteLine(e.Message); } } ","url":"https://blog.lukebtaylor.com/posts/c"},{"name":"Windows - Changing a network interface profile to Private","description":"Isn&amp;rsquo;t Windows Easy? Changing a network interface profile to PrivateWindows interfaces kind of suck.Let&amp;rsquo;s change one from whatever Windows decided to allocate it to and make it into a Private interface.First, let&amp;rsquo;s take a look at all of the interfaces on the machine.netsh interface ip show interfaces This is great, but the PowerShell commands we are going to use will only alllow us to change active connections.","body":"Isn&amp;rsquo;t Windows Easy? Changing a network interface profile to PrivateWindows interfaces kind of suck.Let&amp;rsquo;s change one from whatever Windows decided to allocate it to and make it into a Private interface.First, let&amp;rsquo;s take a look at all of the interfaces on the machine.netsh interface ip show interfaces This is great, but the PowerShell commands we are going to use will only alllow us to change active connections.Run the following to find out what is active.Get-NetConnectionProfile Let&amp;rsquo;s switch that &amp;lsquo;Wi-Fi&amp;rsquo; interface to Private.Get-NetConnectionProfile -InterfaceAlias &amp;#39;Wi-Fi&amp;#39; | Set-NetConnectionProfile -NetworkCategory Public And isn&amp;rsquo;t that dandy? We switched it.","url":"https://blog.lukebtaylor.com/posts/windows-changing-a-network-interface-profile-to-private/"},{"name":"Linux - Cant Ping Ubuntu Vm by Name From Windows Machine","description":"In order to ping an Ubuntu box using its NetBIOS name, use the following steps: edit /etc/nsswitch.conf Replace this line: hosts: files dns  With this line: hosts: files dns wins  Next, install winbind: sudo apt-get install winbind.  Now the machine should be ready to ping from Windows.  ","body":"In order to ping an Ubuntu box using its NetBIOS name, use the following steps: edit /etc/nsswitch.conf Replace this line: hosts: files dns  With this line: hosts: files dns wins  Next, install winbind: sudo apt-get install winbind.  Now the machine should be ready to ping from Windows.  ","url":"https://blog.lukebtaylor.com/posts/linux-cant-ping-ubuntu-vm-by-name-from-windows-machine/"},{"name":"Ubiquiti - Getting Rid of the CenturyLink Router","description":"Getting Rid of the CenturyLink Router When CenturyLink (CL) installed Fiber-To-The-Home (FTTH) with Prism service, they also required the use of their router/modem. I learned to hate this junky device with wi-fi issues and intermittent connection problems. Luckily, the modem of this device was not used. The modem was locked up in the access box outside.Looking at the back of the Technicolor C2000T, the WAN port was connected by a regular Cat 5e cable, indicating that there was no need for the purchase of a fiber-modem.","body":"Getting Rid of the CenturyLink Router When CenturyLink (CL) installed Fiber-To-The-Home (FTTH) with Prism service, they also required the use of their router/modem. I learned to hate this junky device with wi-fi issues and intermittent connection problems. Luckily, the modem of this device was not used. The modem was locked up in the access box outside.Looking at the back of the Technicolor C2000T, the WAN port was connected by a regular Cat 5e cable, indicating that there was no need for the purchase of a fiber-modem.The first attempt to replace the C2000T consisted of hooking up a TP-Link TL-600VPN router. The TP-Link has been a really reliable unit, but no amount of fiddling with with the WAN settings, would allow it to connect to the web.So, I began planning a mini-pc build so I could install something like pfSense, Untangle, Smoothwall, or a similar routing/firewall package in order to get some finer-grained control over the WAN. The problem with this approach was that the hardware costs would grow to excessive and the recurring cost of feeding a pc (even a small one) electricity was something that needed to be considered. The price of this solution put it out of the running (over $200 for a Celeron based piece of junk).The next option was to potentially flash the firmware of an existing router with Tomato or DD-WRT. The problem was that my TP-Link was not supported by these firmware packages. I had an older Linksys router that might have worked, but it didn&amp;rsquo;t support Gigabyte connection speeds. Additionally, as I looked at throughput numbers, I became less convinced that consumer-grade devices were very efficient.This led to the option which worked for me. I found two router/firewall devices, similarly priced in the $50 to $60 range.Company: MikrotikDevice: hEX Software: RouterOS  Company: UbiquitiDevice: EdgeRouter X, Sofware: EdgeOS based on Vyatta  Both pieces of hardware had Linux-based operating systems. Both had a phenomenal amount of features (almost too much!). And both expected a lot out of the end user. These are not for someone who just wants to plug a device in and expects it to work. They both require setup.I ended up purchasing the EdgeRouter X because it had a proven configuration that worked with both CL FTTH and Prism. I was tempted to buy both.","url":"https://blog.lukebtaylor.com/posts/ubiquiti-getting-rid-of-the-centurylink-router/"},{"name":"Ubiquiti - Configuring an EdgeRouter X to Replace a CenturyLink Router","description":"Previously, I discussed various options when considering the replacement of a CenturyLink Technicolor C2000T router/modem in Getting Rid of the CenturyLink Router.Time to get rid of the CenturyLink router. With the Ubiquiti EdgeRouter X plugged in, and the eth1 port hooked up to my laptop&amp;rsquo;s LAN port, getting to the login was easy enough.In the Windows Network and Sharing Center, I selected the ethernet adapter&amp;rsquo;s properties and gave it a static IP of 192.","body":"Previously, I discussed various options when considering the replacement of a CenturyLink Technicolor C2000T router/modem in Getting Rid of the CenturyLink Router.Time to get rid of the CenturyLink router. With the Ubiquiti EdgeRouter X plugged in, and the eth1 port hooked up to my laptop&amp;rsquo;s LAN port, getting to the login was easy enough.In the Windows Network and Sharing Center, I selected the ethernet adapter&amp;rsquo;s properties and gave it a static IP of 192.168.1.100 with a subnet mask of 255.255.255.0Next, I pointed the browser to 192.168.1.1 and was greeted with the EdgeMax login screen. The default user name and password are both ubnt.There were a lot of settings, so I wandered over to https://community.ubnt.com/t5/EdgeMAX/CenturyLink-FTTH-w-Prism-IPTV-working-with-hardware-offload/td-p/1343070 and grabbed the following script for FTTH and Prism.firewall { all-ping enable broadcast-ping disable ipv6-receive-redirects disable ipv6-src-route disable ip-src-route disable log-martians enable name WAN_IN { default-action drop description &amp;#34;packets from Internet to LAN&amp;#34; enable-default-log rule 1 { action accept description &amp;#34;allow established sessions&amp;#34; log disable protocol all state { established enable invalid disable new disable related enable } } rule 3 { action accept description &amp;#34;allow multicast UDP in&amp;#34; log disable protocol udp source { address 224.0.0.0/4 } } rule 4 { action accept description &amp;#34;allow CenturyLink Prism multicast UDP in&amp;#34; log disable protocol udp source { address 67.12.0.0/15 } } rule 5 { action accept description &amp;#34;allow CenturyLink Prism multicast UDP in&amp;#34; log disable protocol udp source { address 151.118.0.0/16 } } rule 6 { action drop description &amp;#34;drop invalid state&amp;#34; log disable protocol all state { established disable invalid enable new disable related disable } } } name WAN_LOCAL { default-action drop description &amp;#34;packets from Internet to the router&amp;#34; enable-default-log rule 1 { action accept description &amp;#34;allow established session to the router&amp;#34; log disable protocol all state { established enable invalid disable new disable related enable } } rule 2 { action accept description &amp;#34;allow IGMP in&amp;#34; log disable protocol igmp } rule 3 { action drop description &amp;#34;drop invalid state&amp;#34; log enable protocol all state { established disable invalid enable new disable related disable } } } receive-redirects disable send-redirects enable source-validation disable syn-cookies enable } interfaces { ethernet eth0 { duplex auto speed auto vif 201 { address dhcp description &amp;#34;CenturyLink VLAN&amp;#34; firewall { in { name WAN_IN } local { name WAN_LOCAL } } } } ethernet eth1 { address 192.168.53.1/24 duplex auto speed auto } ethernet eth2 { disable duplex auto speed auto } loopback lo { } } protocols { igmp-proxy { interface eth0.201 { alt-subnet 0.0.0.0/0 role upstream threshold 1 } interface eth1 { alt-subnet 0.0.0.0/0 role downstream threshold 1 } } } service { dhcp-server { disabled false hostfile-update disable shared-network-name eth1 { authoritative disable subnet 192.168.53.0/24 { default-router 192.168.53.1 dns-server 192.168.53.1 lease 86400 start 192.168.53.100 { stop 192.168.53.199 } } } } dns { forwarding { cache-size 150 listen-on eth1 } } gui { https-port 443 } nat { rule 5000 { description NAT log disable outbound-interface eth0.201 protocol all type masquerade } } ssh { port 22 protocol-version v2 } } system { conntrack { expect-table-size 4096 hash-size 4096 table-size 32768 tcp { half-open-connections 512 loose enable max-retrans 3 } } host-name ubnt login { user ubnt { authentication { encrypted-password $1$zKNoUbAo$gomzUbYvgyUMcD436Wo66. } level admin } } name-server 8.8.8.8 name-server 8.8.4.4 ntp { server 0.ubnt.pool.ntp.org { } server 1.ubnt.pool.ntp.org { } server 2.ubnt.pool.ntp.org { } server 3.ubnt.pool.ntp.org { } } offload { ipv4 { forwarding enable vlan enable } } syslog { global { facility all { level notice } facility protocols { level debug } } } time-zone America/Denver }] So, I copied that to a text file.Next, I fired up Putty to take a look at the EdgeOS Command Line Interface (CLI). Pointing Putty to 192.168.1.1 and using the default ubnt user/pass combo, I was in.Then, I fired up WinSCP, but FileZilla should do just as well. Again pointing to 192.168.1.1 and logging in with the default.The first thing I did was to back up the original config file. There are CLI operations to do this, but I was in the FTP client anyway.I went up to the root and copied /config/config.boot to my local machine. Then, I edited the config.boot file on the router. I copied the config from the ubnt forum into the router&amp;rsquo;s boot.config, saved it, then went back to Putty and issued a reboot command.The script above turns on DHCP using the 192.168.53.0 range. I went back into my ethernet settings and turned on DHCP discovery. When the router rebooted, I was able to browse to 192.168.53.1 and log into the web gui. Scuttling over to the users tab, I did the following: Create a new admin user with a strong password. Log out. Log in with the new admin user. Delete the original admin user. Shutdown the router.  Now it was time to hook up the WAN to to eth0 and the LAN to eth1.Voila!Now you can hook up a wireless router to eth1 or look at setting up WAPs instead.I got some great start on this project by reading a post the following post. It has some good pointers on what to look for in your CenturyLink setup to make sure this solution will work for you.http://kmwoley.com/blog/bypassing-needless-centurylink-wireless-router-on-gigabit-fiber/","url":"https://blog.lukebtaylor.com/posts/ubiquiti-configuring-an-edgerouter-x-to-replace-a-centurylink-router/"},{"name":"C# - Enumerating a Registry Key Results in a Null Value","description":"This post assumes .NET 4.0After trying for some time to get a registry key to list all of its subkeys, I kept getting a null value back.This code does not work It always returns null.var keyName = @&amp;#34;SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileGuid&amp;#34;; using (var guidSet = Registry.LocalMachine.OpenSubKey(keyName)) { if (guidSet != null) { foreach (var guid in guidSet.GetSubKeyNames()) { result.Add(guid); Console.WriteLine(&amp;#34;{0}&amp;#34;, guid); } } } This code worksvar keyName = @&amp;#34;SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileGuid&amp;#34;; using (var hklm = RegistryKey.","body":"This post assumes .NET 4.0After trying for some time to get a registry key to list all of its subkeys, I kept getting a null value back.This code does not work It always returns null.var keyName = @&amp;#34;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileGuid&amp;#34;; using (var guidSet = Registry.LocalMachine.OpenSubKey(keyName)) { if (guidSet != null) { foreach (var guid in guidSet.GetSubKeyNames()) { result.Add(guid); Console.WriteLine(&amp;#34;{0}&amp;#34;, guid); } } } This code worksvar keyName = @&amp;#34;SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\ProfileGuid&amp;#34;; using (var hklm = RegistryKey.OpenBaseKey(RegistryHive.LocalMachine, RegistryView.Registry64)) using (var guidSet =hklm.OpenSubKey(keyName)) { if (guidSet != null) { foreach (var guid in guidSet.GetSubKeyNames()) { result.Add(guid); Console.WriteLine(&amp;#34;{0}&amp;#34;, guid); } } } The difference is that the working code targets the x64 portion of the registry while the non-working code targets the default portion of the registry.In this particular case, the ProfileGuid subkey does not exist is the WOW6432Node subkey of the registry.","url":"https://blog.lukebtaylor.com/posts/c"},{"name":"Bootstrap - Adding a Bootstrap Datepicker With the Eternicode Package to an MVC Project","description":"Manage Nuget PackagesSearch for and install the Eternicode Bootstrap Datepicker https://github.com/eternicode/bootstrap-datepickerIn the BundleConfig.cshtml bundles.Add(new ScriptBundle(&amp;#34;~/bundles/bootstrap-datepicker&amp;#34;).Include( &amp;#34;~/Scripts/bootstrap-datepicker.js&amp;#34;)); //added for bootstrap datepicker  bundles.Add(new StyleBundle(&amp;#34;~/Content/css&amp;#34;).Include( &amp;#34;~/Content/bootstrap.css&amp;#34;, &amp;#34;~/Content/site.css&amp;#34;, &amp;#34;~/Content/datepicker.css&amp;#34; //added for bootstrap datepicker  )); In the shared view _Layout.cshtml make the following changes to the head section @*Scripts moved up to the head section so that they render before the body*@ @Styles.Render(&amp;#34;~/Content/css&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/modernizr&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/jquery&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/jqueryval&amp;#34;) @*for jquery validation*@ @Scripts.Render(&amp;#34;~/bundles/bootstrap&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/bootstrap-datepicker&amp;#34;) @*for bootstrap datepicker*@ @*Script section for bootstrap datepicker*@ &amp;lt;script&amp;gt; var datepicker = $.","body":"Manage Nuget PackagesSearch for and install the Eternicode Bootstrap Datepicker https://github.com/eternicode/bootstrap-datepickerIn the BundleConfig.cshtml bundles.Add(new ScriptBundle(&amp;#34;~/bundles/bootstrap-datepicker&amp;#34;).Include( &amp;#34;~/Scripts/bootstrap-datepicker.js&amp;#34;)); //added for bootstrap datepicker  bundles.Add(new StyleBundle(&amp;#34;~/Content/css&amp;#34;).Include( &amp;#34;~/Content/bootstrap.css&amp;#34;, &amp;#34;~/Content/site.css&amp;#34;, &amp;#34;~/Content/datepicker.css&amp;#34; //added for bootstrap datepicker  )); In the shared view _Layout.cshtml make the following changes to the head section @*Scripts moved up to the head section so that they render before the body*@ @Styles.Render(&amp;#34;~/Content/css&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/modernizr&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/jquery&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/jqueryval&amp;#34;) @*for jquery validation*@ @Scripts.Render(&amp;#34;~/bundles/bootstrap&amp;#34;) @Scripts.Render(&amp;#34;~/bundles/bootstrap-datepicker&amp;#34;) @*for bootstrap datepicker*@ @*Script section for bootstrap datepicker*@ &amp;lt;script&amp;gt; var datepicker = $.fn.datepicker.noConflict(); // return $.fn.datepicker to previously assigned value  $.fn.bootstrapDP = datepicker; // give $().bootstrapDP the bootstrap-datepicker functionality  &amp;lt;/script&amp;gt; In the View &amp;lt;script&amp;gt; $(document).ready(function () { (function () { //Datepicker begin  var dateToday = new Date(); $(&amp;#39;.datepicker&amp;#39;).bootstrapDP({ autoclose: true, todayHighlight: true }); $(&amp;#39;.datepicker&amp;#39;).bootstrapDP(&amp;#39;update&amp;#39;, dateToday); }()); //Datepicker end  }); &amp;lt;/script&amp;gt; @*Using Razor Syntax*@ @Html.EditorFor(model =&amp;amp;gt; model.Date, new { htmlAttributes = new { @class = &amp;#34;datepicker form-control&amp;#34; } }) @*Alternate form using HTML markup*@ &amp;lt;input class=&amp;#34;datepicker form-control&amp;#34; type=&amp;#34;text&amp;#34; /&amp;gt; ","url":"https://blog.lukebtaylor.com/posts/bootstrap-adding-a-bootstrap-datepicker-with-the-eternicode-package-to-an-mvc-project/"},{"name":"Windows - How Do I Disable Auto Brightness on a Laptop With AMD Graphics","description":"I was having an issue with my HP Pavilion G7. When opening the web browser or switching between tabs, the display would automatically adjust its brightness. Here are three areas to look at to get it disabled. The screen will go dim and brighten at seemingly random times.Option 1 - The AMD CCC is installed: If the AMD Catalyst Control Center installed, there is a setting to control the dimming and brightening of the screen called Vari-Bright.","body":"I was having an issue with my HP Pavilion G7. When opening the web browser or switching between tabs, the display would automatically adjust its brightness. Here are three areas to look at to get it disabled. The screen will go dim and brighten at seemingly random times.Option 1 - The AMD CCC is installed: If the AMD Catalyst Control Center installed, there is a setting to control the dimming and brightening of the screen called Vari-Bright. For me, it was vari-annoying.Go To Control Panel -&amp;gt; Appearance and Personalization -&amp;gt; Screen Resolution -&amp;gt; Advanced Settings Click on the AMD VISION Engine Control Center Tab in the advanced properties window that pops up Click on the AMD VISION Engine Control Center Button within that tab. Now the AMD Window pops open. In the AMD Window, in the START screen, under POWER, click the PowerPlay link. Uncheck the box titled Enable Vari-Bright and apply your settings.  Option 2 - This works for some, but not for others: First, I changed the advanced power options.  Right-click on the battery icon in the tray Select power options Select change plan setting Select change advanced power settings Go to Display  -&amp;gt; Enable adaptive brightness -&amp;gt; Turn these off for battery and plugged in options   Scroll down to ATI Graphics Power Settings  -&amp;gt; ATI Powerplay Settings   You can change these to Maximize Performance, but it may decrease battery life  So, that didn&amp;rsquo;t fix it for me, but it may work for you.Option 3 - This worked like a charm, but requires a registry edit: After upgrading to Windows 8, then 8.1. I did not re-install the AMD Control Catalyst software (aka AMD VISION Engine Control Center). So my screen was going crazy again.I turned to the system registry. You can mess things up by playing in the registry, so please be careful and do so at your own risk. This will only apply to AMD graphics cards. Open the registry editor by pressing Win+R and typing in regedit Browse to: HKEY_LOCAL_MACHINE\\SYSTEM\\ControlSet001\\Control\\Class\\{4d36e968-e325-11ce-bfc1-08002be10318}\\0000 Right-Click on the 0000 key (it looks like a folder). Select New-&amp;gt;Dword. Name the new registry entry PP_VariBrightFeatureEnable Double-click on the PP_VariBrightFeatureEnable entry you just created. Make sure it has a value of 0 Click OK, close the registry editory, and restart the machine.  ","url":"https://blog.lukebtaylor.com/posts/windows-how-do-i-disable-auto-brightness-on-a-laptop-with-amd-graphics/"}]