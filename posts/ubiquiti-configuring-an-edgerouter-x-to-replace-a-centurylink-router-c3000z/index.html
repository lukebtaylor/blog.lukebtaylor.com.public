<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Ubiquiti - Configuring an EdgeRouter X to Replace a CenturyLink Router - Zyxel C3000Z</title><link rel=preload href=https://blog.lukebtaylor.com/styles.css as=style><link rel=dns-prefetch href=https://maxcdn.bootstrapcdn.com/><link rel=preconnect href=https://maxcdn.bootstrapcdn.com/><link rel=preload href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css as=style><link rel=dns-prefetch href=https://cdnjs.cloudflare.com/><link rel=preconnect href=https://cdnjs.cloudflare.com/><link rel=preload href=https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.3/lunr.min.js as=script><link rel=preload href=https://blog.lukebtaylor.com/js/search.min.js as=script><link rel=preload href=https://blog.lukebtaylor.com/index.json as=fetch><meta name=description itemprop=description content="Bypassing another bad CenturyLink router. This time, I have the Zyxel C3000Z which I need in order to get the bonded pair for the fastest DSL I can get in my area. Maybe I&amp;rsquo;m old fashioned, but 80MB is plenty for our household&amp;rsquo;s needs. We won&amp;rsquo;t actually be able to get rid of this device completely, but we can disable all of it&amp;rsquo;s functionality and allow it to pass through data to the EdgeRouter." id=desc><meta name=generator content="Hugo 0.71.1"><meta name=keywords itemprop=keywords content="ubiquiti,edgerouter,centurylink" id=keywords><link rel=canonical href=https://blog.lukebtaylor.com/posts/ubiquiti-configuring-an-edgerouter-x-to-replace-a-centurylink-router-c3000z/><link href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css rel=stylesheet integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous><link rel=stylesheet type=text/css href=https://blog.lukebtaylor.com/css/dark.css><link rel=stylesheet type=text/css href=https://blog.lukebtaylor.com/styles.css><script>var _paq=undefined;</script></head><body itemscope itemtype=http://schema.org/WebPage><div id=site-container><div id=site-header><a href=https://blog.lukebtaylor.com/><header class="small-text-center medium-text-left row"><img id=site-thumbnail class="row-item hide" src=https://blog.lukebtaylor.com/images/thumbnail.jpg><div class=row-item><span id=site-title itemprop=name>Luke's blog site</span><br><span id=site-tagline>Where I put things so that I can find them when I forget as long as I remember to look here.</span></div></header></a></div><div id=main-container class=row role=main itemprop=mainContentOfPage><main class="row-item small-full medium-two-thirds" itemscope itemtype=http://schema.org/Blog><article id=post-article itemprop=blogPost itemscope itemtype=http://schema.org/BlogPosting itemref="keywords desc"><header id=page-header><h1 itemprop=headline>Ubiquiti - Configuring an EdgeRouter X to Replace a CenturyLink Router - Zyxel C3000Z</h1><p id=post-metadata class=row><span class=row-item><span class="fa fa-clock-o"></span><strong>Published:</strong>
<time datetime=2020-05-30 content="2020-05-30" itemprop=datePublished>May 30, 2020</time>
</span><span class=row-item><span class="fa fa-book"></span><strong>Estimated reading time:</strong> ~<span itemprop=timeRequired>5 minutes</span></span></p></header><div id=post-content><span itemprop=articleBody><p>Bypassing another bad CenturyLink router. This time, I have the <a href=https://www.centurylink.com/home/help/internet/modems-and-routers/zyxel-c3000z.html>Zyxel C3000Z</a> which I need in order to get the bonded pair for the fastest DSL I can get in my area. Maybe I&rsquo;m old fashioned, but 80MB is plenty for our household&rsquo;s needs.</p><p>We won&rsquo;t actually be able to get rid of this device completely, but we can disable all of it&rsquo;s functionality and allow it to pass through data to the EdgeRouter. By setting the C3000Z to &ldquo;Transparent Bridging&rdquo; mode, it acts like a modem and nothing more.</p><h2 id=the-issue>The Issue</h2><p>The C3000Z performed well enough as a router, although I did not use the wifi, ever. But then when I started playing with a VPN into the house and doing some port-forwarding, I lost hours thinking it was me. Googling &ldquo;C3000Z port forwarding doesn&rsquo;t work&rdquo; will yield numerous anecdotes about issues people have with the port-forwarding on the device. So, it&rsquo;s time to let it be a modem, and nothing more.</p><h3 id=port-forwarding-issues>Port Forwarding Issues</h3><p>When researching the issue, I ran across a couple of articles from Zyxel concerning NAT and UPnP issues that could have an effect on port-forwarding.</p><ul><li><a href=https://mysupport.zyxel.com/hc/en-us/articles/360003420960--CPE-CenturyLink-NAT-UPnP-Troubleshooting-Guide>https://mysupport.zyxel.com/hc/en-us/articles/360003420960--CPE-CenturyLink-NAT-UPnP-Troubleshooting-Guide</a></li><li></li></ul><p>I followed the steps, but they didn&rsquo;t resolve any issues for me.</p><h3 id=port-scanners>Port Scanners</h3><p>When I would make a change, I had a port on the network computer listening, but using an external port scanner, ports would either timeout or be actively blocked.</p><ul><li><a href=https://www.whatsmyip.org/port-scanner/>What&rsquo;s My IP Port Scanner</a></li><li><a href=http://www.t1shopper.com/tools/port-scan/>T1 Shopper Port Scanner</a></li></ul><p>What did resolve the issue was bypassing the routing functionality of the C3000Z altogether.</p><h2 id=pre-work-steps>Pre-Work Steps</h2><ol><li>Backup your C3000Z configuration</li><li>Backup your EdgeRouter configuration</li><li>Contact CenturyLink and ask for your PPP username and password<ul><li>I used the <a href=https://www.centurylink.com/help/chat/>CenturyLink Chat</a> and they gave me my info without much trouble. It only took a few minutes and I had to answer some identity verification questions.</li><li>Here is what I wrote:<ul><li>Would you please provide the PPP password and username for my account? I am in the process of bridging the router to use a different router I own.</li></ul></li></ul></li></ol><h2 id=c3000z---enable-the-bridging>C3000Z - Enable the bridging</h2><ol><li>Browse to 192.168.0.1</li><li>Log into the C3000Z</li><li>Go to Advanced</li><li>Select the &ldquo;WAN Settings&rdquo; section</li><li>Select the &ldquo;ISP Protocol&rdquo; dropdown</li><li>Select &ldquo;Transparent Bridging&rdquo;</li><li>Select the &ldquo;Transport Mode&rdquo; dropdown</li><li>Select &ldquo;Tagged&ndash;201&rdquo;</li><li>Click &ldquo;Apply&rdquo;</li><li>The C3000Z wil refresh and you will no longer be able to access the web interface<ul><li>See the section in this article titled, &ldquo;Can&rsquo;t access the CenturyLink Zyxel C3000Z modem after it has been put into &ldquo;Transparent Bridging&rdquo; mode.&rdquo; if you need to disable &ldquo;Transparent Bridging&rdquo;</li></ul></li></ol><h2 id=edgerouter---set-up-pppoe>EdgeRouter - Set up PPPoE</h2><h3 id=what-i-did>What I did</h3><p>I didn&rsquo;t need to save my settings, because the EdgeRouter didn&rsquo;t have much custom configuration on it. Doing this <strong>WILL DELETE</strong> all of your settings.</p><ol><li>Ran through the basic setup wizard</li><li>Set the internet connection type to PPPoE</li><li>Enter the PPPoE username and password you got from CL</li><li>Leave &ldquo;Internet connection is on VLAN&rdquo; unchecked<ul><li>VLAN tagging is unnecessary because of the step we took when enabling &ldquo;Transparent Bridging&rdquo; in the C3000Z</li></ul></li><li>Keep existing users</li><li>Apply</li><li>Reboot</li></ol><h3 id=what-you-could-do-alternatively>What you could do, alternatively</h3><ol><li>Open EdgeMax GUI</li><li>On the &ldquo;Dashboard&rdquo; screen</li><li>Click &ldquo;Add Interface&rdquo;</li><li>Click &ldquo;Add PPPoE&rdquo;</li><li>Fill in the &ldquo;Create New PPPoE&rdquo; dialog</li><li>Set PPPoE ID to 0</li><li>Set interface to the interface you have connected to the C3000Z</li><li>Set Account Name to the PPP username you got from CL</li><li>Set Password to the PPP password you got from CL</li><li>Set MTU to 1492</li><li>Slick &ldquo;Save&rdquo;</li><li>Reboot</li></ol><h2 id=set-up-a-port-forward>Set up a port forward</h2><ol><li>Go to the EdgeRouter GUI</li><li>Click on &ldquo;Firewall/NAT&rdquo;</li><li>Click on &ldquo;Port Forwarding&rdquo; tab</li><li>Choose the WAN interface of &ldquo;pppoe0&rdquo;</li><li>Enable Hairpin NAT</li><li>Choose the LAN interface<ul><li>In my case I chose &ldquo;switch0&rdquo; because I bridged my connections</li><li>It could be one of the eth interfaces, whatever you have facing into your network</li></ul></li><li>Set up your port-forward rule however you will</li><li>Click &ldquo;Apply&rdquo;</li></ol><h2 id=set-up-dynamic-dns-ddns>Set up Dynamic DNS (DDNS)</h2><p>If you want to use a DDNS service so that you can always get to your network when the external IP changes, do the following. This uses DuckDNS as an example.</p><ol><li>Go to <a href=https://www.duckdns.org/>https://www.duckdns.org/</a> and set up an account</li><li>Create a custom DNS setting</li><li>Grab your key</li><li>Go to the EdgeRouter GUI</li><li>Click on &ldquo;Services&rdquo;</li><li>Click on &ldquo;DNS&rdquo;</li><li>Under the &ldquo;Dynamic DNS&rdquo; section choose the WAN interface, in my case &ldquo;pppoe0&rdquo;</li><li>Leave &ldquo;Web&rdquo; and &ldquo;Web-skip&rdquo; empty</li><li>Click &ldquo;Add Service&rdquo;</li><li>Click &ldquo;custom -&rdquo; from the Service dropdown</li><li>Enter &ldquo;DuckDNS&rdquo; in the text box next to the dropdown</li><li>Hostname will be the custom hostname you created in DuckDNS</li><li>Login is &ldquo;nouser&rdquo; without the quotes</li><li>Password is the DuckDNS key for your account</li><li>Server is &ldquo;<a href=http://www.duckdns.org>www.duckdns.org</a>&rdquo; without the quotes</li><li>Click &ldquo;Apply&rdquo;</li><li>Browse to <a href=https://www.whatismyip.org/>https://www.whatismyip.org/</a></li><li>Refresh the DuckDNS page</li><li>Your external IP should match the DuckDNS results</li></ol><h2 id=notes-on-cant-access-the-centurylink-zyxel-c3000z-modem-after-it-has-been-put-into-transparent-bridging-mode>Notes on Can&rsquo;t access the CenturyLink Zyxel C3000Z modem after it has been put into &ldquo;Transparent Bridging&rdquo; mode.</h2><ol><li>Disconnect all data cables from the unit</li><li>Connect a cable from your computer to one of the LAN ports</li><li>On your computer, manually configure the network connection using the following settings<ul><li>This assumes the default DHCP server of 192.168.0.1</li><li>Manually set the IP configuration of the computer to<ul><li>IP Address<ul><li>192.168.0.4</li></ul></li><li>Subnet Mask<ul><li>255.255.255.0</li></ul></li><li>Default Gateway<ul><li>192.168.0.1</li></ul></li></ul></li></ul></li><li>Browse to 192.168.0.1</li><li>The Admin screen should show up</li></ol><h1 id=references>REFERENCES</h1><ul><li><a href=https://www.akadia.com/services/zyxel_transparent_mode.html>https://www.akadia.com/services/zyxel_transparent_mode.html</a><ul><li><a href=https://web.archive.org/web/20200531025530/https://www.akadia.com/services/zyxel_transparent_mode.html>https://web.archive.org/web/20200531025530/https://www.akadia.com/services/zyxel_transparent_mode.html</a></li></ul></li><li><a href=https://gist.github.com/dotspencer/1c4756463df727b9e43b86ba136a9fe4>https://gist.github.com/dotspencer/1c4756463df727b9e43b86ba136a9fe4</a></li><li><a href=https://community.ui.com/questions/Edgerouter-lite-function-as-pppoe-client/b35e2272-ebf9-44b5-a954-727d7b031dd4>https://community.ui.com/questions/Edgerouter-lite-function-as-pppoe-client/b35e2272-ebf9-44b5-a954-727d7b031dd4</a></li><li><a href=https://community.ui.com/questions/EdgeRouter-PPPoE-configuration-help/58923ea7-b8f3-4d3c-8eca-4ac2abc39fbc>https://community.ui.com/questions/EdgeRouter-PPPoE-configuration-help/58923ea7-b8f3-4d3c-8eca-4ac2abc39fbc</a></li><li><a href="https://www.youtube.com/watch?v=xtwQewrXZ5M">https://www.youtube.com/watch?v=xtwQewrXZ5M</a></li><li><a href=https://www.reddit.com/r/HomeNetworking/comments/63hzkq/zyxel_c1100z_through_centurylink_and_transparent/>https://www.reddit.com/r/HomeNetworking/comments/63hzkq/zyxel_c1100z_through_centurylink_and_transparent/</a></li><li><a href=http://vtechify.com/DuckDNS-on-EdgeRouter/>http://vtechify.com/DuckDNS-on-EdgeRouter/</a><ul><li><a href=https://web.archive.org/web/20200531025756/http://vtechify.com/DuckDNS-on-EdgeRouter/>https://web.archive.org/web/20200531025756/http://vtechify.com/DuckDNS-on-EdgeRouter/</a></li></ul></li><li><a href="https://www.youtube.com/watch?v=f3c7s_r_6IA">https://www.youtube.com/watch?v=f3c7s_r_6IA</a></li><li><a href=https://help.ui.com/hc/en-us/articles/217367937-EdgeRouter-Port-Forwarding>https://help.ui.com/hc/en-us/articles/217367937-EdgeRouter-Port-Forwarding</a></li><li><a href=https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_71/rzajb/rzajbrzajb4bhidenat.htm>https://www.ibm.com/support/knowledgecenter/ssw_ibm_i_71/rzajb/rzajbrzajb4bhidenat.htm</a></li></ul></span></div><div id=post-tags><ul class=menu><li class=row-item><i class="fa fa-tags"></i>&nbsp;&nbsp;</li><li itemprop=relatedUrl itemscope itemtype=http://schema.org/URL><a class="row-item button" href=https://blog.lukebtaylor.com/tags/ubiquiti rel=tag itemprop=url>ubiquiti</a></li><li itemprop=relatedUrl itemscope itemtype=http://schema.org/URL><a class="row-item button" href=https://blog.lukebtaylor.com/tags/edgerouter rel=tag itemprop=url>edgerouter</a></li><li itemprop=relatedUrl itemscope itemtype=http://schema.org/URL><a class="row-item button" href=https://blog.lukebtaylor.com/tags/centurylink rel=tag itemprop=url>centurylink</a></li></ul></div><div id=authorbox class="row vcenter memberbox" itemprop=author itemscope itemtype=http://schema.org/Person><div class="row-item member-avatar" itemprop=image itemscope itemtype=http://schema.org/ImageObject><img alt="Luke Taylor avatar" src=https://blog.lukebtaylor.com/images/avatar.jpg itemprop=contentUrl></div><div class="row-item member-bio"><div><span class=widget-title>About <span itemprop=name>Luke Taylor</span></span></div><p itemprop=description>Developer.</p><div class="social row"></div></div></div></article></main><aside class="row-item small-full medium-third right" itemscope itemtype=http://schema.org/WPSideBar><div class=widget id=search-container><header><span class=widget-header><span class="fa fa-search"></span>Search</span></header><input type=search name=search id=searchbox placeholder=Search... autocomplete=off><div id=search-results class=hide></div></div><div class=widget><header><span class=widget-header><span class="fa fa-pencil"></span><a href=https://blog.lukebtaylor.com/posts/>Recent Posts</a></span></header><a class="widget-header-small button" href=https://blog.lukebtaylor.com/index.xml><span class="fa fa-rss"></span>Subscribe to the Site</a>
<a class="widget-header-small button" href=https://blog.lukebtaylor.com/posts/index.xml><span class="fa fa-rss"></span>Subscribe to Posts</a><ul><li><a href=https://blog.lukebtaylor.com/posts/ubiquiti-configuring-an-edgerouter-x-to-replace-a-centurylink-router-c3000z/>Ubiquiti - Configuring an EdgeRouter X to Replace a CenturyLink Router - Zyxel C3000Z</a></li><li><a href=https://blog.lukebtaylor.com/posts/keepass-syncing-the-database/>Keepass Syncing the Database</a></li><li><a href=https://blog.lukebtaylor.com/posts/keepass-plugins/>Keepass Plugins</a></li><li><a href=https://blog.lukebtaylor.com/posts/keepass-mobile-minikeepass/>Keepass Mobile MiniKeePass</a></li><li><a href=https://blog.lukebtaylor.com/posts/keepass-desktop-setup/>Keepass Desktop Setup</a></li><li><a href=https://blog.lukebtaylor.com/posts/vm-windows-domain-machine-trust-relationship-fails/>VM - Windows domain machine trust relationship fails</a></li><li><a href=https://blog.lukebtaylor.com/posts/linux-view-all-users-on-system/>Linux View All Users on System</a></li><li><a href=https://blog.lukebtaylor.com/posts/linux-installing-ubuntu-fresh/>Linux - Installing Ubuntu Fresh</a></li><li><a href=https://blog.lukebtaylor.com/posts/firefox-ff-keeps-running-in-background-after-closing-browser/>Firefox - FF Keeps Running in Background After Closing Browser</a></li></ul></div><div class=widget><header><span class=widget-header><span class="fa fa-tags"></span><a href=https://blog.lukebtaylor.com/tags/>Tags</a></span></header><div><a class=button href=https://blog.lukebtaylor.com/tags/windows title=windows>windows (11)
</a><a class=button href=https://blog.lukebtaylor.com/tags/c title=c#>c# (6)
</a><a class=button href=https://blog.lukebtaylor.com/tags/error title=error>error (4)
</a><a class=button href=https://blog.lukebtaylor.com/tags/keepass title=keepass>keepass (4)
</a><a class=button href=https://blog.lukebtaylor.com/tags/linux title=linux>linux (4)
</a><a class=button href=https://blog.lukebtaylor.com/tags/password title=password>password (4)
</a><a class=button href=https://blog.lukebtaylor.com/tags/centurylink title=centurylink>centurylink (3)
</a><a class=button href=https://blog.lukebtaylor.com/tags/certificate title=certificate>certificate (3)
</a><a class=button href=https://blog.lukebtaylor.com/tags/edgerouter title=edgerouter>edgerouter (3)
</a><a class=button href=https://blog.lukebtaylor.com/tags/file title=file>file (3)
</a><a class=button href=https://blog.lukebtaylor.com/tags/powershell title=powershell>powershell (3)
</a><a class=button href=https://blog.lukebtaylor.com/tags/ubiquiti title=ubiquiti>ubiquiti (3)
</a><a class=button href=https://blog.lukebtaylor.com/tags/ubuntu title=ubuntu>ubuntu (3)
</a><a class=button href=https://blog.lukebtaylor.com/tags/firefox title=firefox>firefox (2)
</a><a class=button href=https://blog.lukebtaylor.com/tags/hugo title=hugo>hugo (2)
</a><a class=button href=https://blog.lukebtaylor.com/tags/pki title=pki>pki (2)
</a><a class=button href=https://blog.lukebtaylor.com/tags/active-directory title="active directory">active directory (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/backup title=backup>backup (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/bootstrap title=bootstrap>bootstrap (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/brightness title=brightness>brightness (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/certreq title=certreq>certreq (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/checksum title=checksum>checksum (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/csv title=csv>csv (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/dnc title=dnc>dnc (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/dns title=dns>dns (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/github title=github>github (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/hosting title=hosting>hosting (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/hp title=hp>hp (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/install title=install>install (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/lock title=lock>lock (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/mmc title=mmc>mmc (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/mvc title=mvc>mvc (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/network title=network>network (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/patterns title=patterns>patterns (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/permissions title=permissions>permissions (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/registry title=registry>registry (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/robocopy title=robocopy>robocopy (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/search title=search>search (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/security title=security>security (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/shortcut title=shortcut>shortcut (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/ssh title=ssh>ssh (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/ssrs title=ssrs>ssrs (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/standard-error title="standard error">standard error (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/standard-output title="standard output">standard output (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/stderr title=stderr>stderr (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/stdout title=stdout>stdout (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/syntax-higlighting title="syntax higlighting">syntax higlighting (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/task title=task>task (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/user title=user>user (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/vm title=vm>vm (1)
</a><a class=button href=https://blog.lukebtaylor.com/tags/web title=web>web (1)</a></div></div></aside></div><footer class=row><div class="small-full medium-half small-text-center medium-text-left medium-left row"><div class=small-full><small>&copy; 2020
<span itemprop=publisher itemscope itemtype=http://schema.org/Organization><span itemprop=name>Luke's blog site</span></span></small></div><div class="small-full row"></div></div><div id=social-icons class="row small-full medium-half small-text-center medium-text-right" style=align-self:center></div></footer></div><script class=_iub_cs_activate type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.1.3/lunr.min.js></script><script src=https://blog.lukebtaylor.com/js/search.min.js class=_iub_cs_activate type=text/javascript></script><script class=_iub_cs_activate-inline type=text/javascript>var lunrIndex=undefined;loadIndex("https://blog.lukebtaylor.com/index.json").then(function(index){lunrIndex=index;},function(status){});</script><script type=text/javascript src=https://blog.lukebtaylor.com/js/thumbnail.min.js></script></body></html>